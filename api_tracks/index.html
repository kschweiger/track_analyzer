
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Toolbox for analyzing and visualizing geo data tracks">
      
      
        <meta name="author" content="Korbinian Schweiger">
      
      
      
        <link rel="prev" href="../cli/">
      
      
        <link rel="next" href="../api_model/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.5">
    
    
      
        <title>Track Reference - geo-track-analyzer</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#track-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="geo-track-analyzer" class="md-header__button md-logo" aria-label="geo-track-analyzer" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m7 17 3.2-6.8L17 7l-3.2 6.8L7 17m5-5.9a.9.9 0 0 0-.9.9.9.9 0 0 0 .9.9.9.9 0 0 0 .9-.9.9.9 0 0 0-.9-.9M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            geo-track-analyzer
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Track Reference
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/kschweiger/track_analyzer" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    kschweiger/track_analyzer
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="geo-track-analyzer" class="md-nav__button md-logo" aria-label="geo-track-analyzer" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m7 17 3.2-6.8L17 7l-3.2 6.8L7 17m5-5.9a.9.9 0 0 0-.9.9.9.9 0 0 0 .9.9.9.9 0 0 0 .9-.9.9.9 0 0 0-.9-.9M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8 8 8 0 0 0-8-8Z"/></svg>

    </a>
    geo-track-analyzer
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/kschweiger/track_analyzer" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    kschweiger/track_analyzer
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Usage
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../visualizations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visualization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../comparison/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comparison
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../enhancer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enhancer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Track Reference
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Track Reference
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack" class="md-nav__link">
    <span class="md-ellipsis">
      GPXFileTrack
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GPXFileTrack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.add_segmeent" class="md-nav__link">
    <span class="md-ellipsis">
      add_segmeent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.find_overlap_with_segment" class="md-nav__link">
    <span class="md-ellipsis">
      find_overlap_with_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_avg_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_avg_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_closest_point" class="md-nav__link">
    <span class="md-ellipsis">
      get_closest_point
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_max_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_max_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_point_data_in_segmnet" class="md-nav__link">
    <span class="md-ellipsis">
      get_point_data_in_segmnet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_segment_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_segment_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_track_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_track_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_xml" class="md-nav__link">
    <span class="md-ellipsis">
      get_xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.interpolate_points_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      interpolate_points_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.plot" class="md-nav__link">
    <span class="md-ellipsis">
      plot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.split" class="md-nav__link">
    <span class="md-ellipsis">
      split
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack" class="md-nav__link">
    <span class="md-ellipsis">
      FITTrack
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FITTrack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.add_segmeent" class="md-nav__link">
    <span class="md-ellipsis">
      add_segmeent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.find_overlap_with_segment" class="md-nav__link">
    <span class="md-ellipsis">
      find_overlap_with_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_avg_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_avg_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_closest_point" class="md-nav__link">
    <span class="md-ellipsis">
      get_closest_point
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_max_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_max_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_point_data_in_segmnet" class="md-nav__link">
    <span class="md-ellipsis">
      get_point_data_in_segmnet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_segment_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_segment_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_track_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_track_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_xml" class="md-nav__link">
    <span class="md-ellipsis">
      get_xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.interpolate_points_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      interpolate_points_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.plot" class="md-nav__link">
    <span class="md-ellipsis">
      plot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.split" class="md-nav__link">
    <span class="md-ellipsis">
      split
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack" class="md-nav__link">
    <span class="md-ellipsis">
      ByteTrack
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ByteTrack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.add_segmeent" class="md-nav__link">
    <span class="md-ellipsis">
      add_segmeent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.find_overlap_with_segment" class="md-nav__link">
    <span class="md-ellipsis">
      find_overlap_with_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_avg_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_avg_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_closest_point" class="md-nav__link">
    <span class="md-ellipsis">
      get_closest_point
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_max_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_max_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_point_data_in_segmnet" class="md-nav__link">
    <span class="md-ellipsis">
      get_point_data_in_segmnet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_segment_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_segment_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_track_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_track_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_xml" class="md-nav__link">
    <span class="md-ellipsis">
      get_xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.interpolate_points_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      interpolate_points_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.plot" class="md-nav__link">
    <span class="md-ellipsis">
      plot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.split" class="md-nav__link">
    <span class="md-ellipsis">
      split
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack" class="md-nav__link">
    <span class="md-ellipsis">
      PyTrack
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PyTrack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.find_overlap_with_segment" class="md-nav__link">
    <span class="md-ellipsis">
      find_overlap_with_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_avg_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_avg_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_closest_point" class="md-nav__link">
    <span class="md-ellipsis">
      get_closest_point
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_max_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_max_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_point_data_in_segmnet" class="md-nav__link">
    <span class="md-ellipsis">
      get_point_data_in_segmnet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_segment_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_segment_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_track_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_track_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_xml" class="md-nav__link">
    <span class="md-ellipsis">
      get_xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.interpolate_points_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      interpolate_points_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.plot" class="md-nav__link">
    <span class="md-ellipsis">
      plot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.split" class="md-nav__link">
    <span class="md-ellipsis">
      split
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack" class="md-nav__link">
    <span class="md-ellipsis">
      SegmentTrack
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SegmentTrack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.add_segmeent" class="md-nav__link">
    <span class="md-ellipsis">
      add_segmeent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.find_overlap_with_segment" class="md-nav__link">
    <span class="md-ellipsis">
      find_overlap_with_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_avg_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_avg_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_closest_point" class="md-nav__link">
    <span class="md-ellipsis">
      get_closest_point
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_max_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_max_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_point_data_in_segmnet" class="md-nav__link">
    <span class="md-ellipsis">
      get_point_data_in_segmnet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_segment_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_segment_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_track_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_track_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_xml" class="md-nav__link">
    <span class="md-ellipsis">
      get_xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.interpolate_points_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      interpolate_points_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.plot" class="md-nav__link">
    <span class="md-ellipsis">
      plot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.split" class="md-nav__link">
    <span class="md-ellipsis">
      split
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_enhancer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enhancer Reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_visualizations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visualization Reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_comparison/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comparison Reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Miscellaneous
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Miscellaneous
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack" class="md-nav__link">
    <span class="md-ellipsis">
      GPXFileTrack
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GPXFileTrack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.add_segmeent" class="md-nav__link">
    <span class="md-ellipsis">
      add_segmeent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.find_overlap_with_segment" class="md-nav__link">
    <span class="md-ellipsis">
      find_overlap_with_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_avg_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_avg_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_closest_point" class="md-nav__link">
    <span class="md-ellipsis">
      get_closest_point
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_max_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_max_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_point_data_in_segmnet" class="md-nav__link">
    <span class="md-ellipsis">
      get_point_data_in_segmnet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_segment_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_segment_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_track_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_track_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.get_xml" class="md-nav__link">
    <span class="md-ellipsis">
      get_xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.interpolate_points_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      interpolate_points_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.plot" class="md-nav__link">
    <span class="md-ellipsis">
      plot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.GPXFileTrack.split" class="md-nav__link">
    <span class="md-ellipsis">
      split
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack" class="md-nav__link">
    <span class="md-ellipsis">
      FITTrack
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FITTrack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.add_segmeent" class="md-nav__link">
    <span class="md-ellipsis">
      add_segmeent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.find_overlap_with_segment" class="md-nav__link">
    <span class="md-ellipsis">
      find_overlap_with_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_avg_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_avg_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_closest_point" class="md-nav__link">
    <span class="md-ellipsis">
      get_closest_point
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_max_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_max_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_point_data_in_segmnet" class="md-nav__link">
    <span class="md-ellipsis">
      get_point_data_in_segmnet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_segment_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_segment_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_track_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_track_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.get_xml" class="md-nav__link">
    <span class="md-ellipsis">
      get_xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.interpolate_points_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      interpolate_points_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.plot" class="md-nav__link">
    <span class="md-ellipsis">
      plot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.FITTrack.split" class="md-nav__link">
    <span class="md-ellipsis">
      split
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack" class="md-nav__link">
    <span class="md-ellipsis">
      ByteTrack
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ByteTrack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.add_segmeent" class="md-nav__link">
    <span class="md-ellipsis">
      add_segmeent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.find_overlap_with_segment" class="md-nav__link">
    <span class="md-ellipsis">
      find_overlap_with_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_avg_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_avg_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_closest_point" class="md-nav__link">
    <span class="md-ellipsis">
      get_closest_point
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_max_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_max_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_point_data_in_segmnet" class="md-nav__link">
    <span class="md-ellipsis">
      get_point_data_in_segmnet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_segment_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_segment_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_track_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_track_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.get_xml" class="md-nav__link">
    <span class="md-ellipsis">
      get_xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.interpolate_points_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      interpolate_points_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.plot" class="md-nav__link">
    <span class="md-ellipsis">
      plot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.ByteTrack.split" class="md-nav__link">
    <span class="md-ellipsis">
      split
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack" class="md-nav__link">
    <span class="md-ellipsis">
      PyTrack
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PyTrack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.find_overlap_with_segment" class="md-nav__link">
    <span class="md-ellipsis">
      find_overlap_with_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_avg_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_avg_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_closest_point" class="md-nav__link">
    <span class="md-ellipsis">
      get_closest_point
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_max_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_max_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_point_data_in_segmnet" class="md-nav__link">
    <span class="md-ellipsis">
      get_point_data_in_segmnet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_segment_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_segment_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_track_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_track_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.get_xml" class="md-nav__link">
    <span class="md-ellipsis">
      get_xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.interpolate_points_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      interpolate_points_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.plot" class="md-nav__link">
    <span class="md-ellipsis">
      plot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.PyTrack.split" class="md-nav__link">
    <span class="md-ellipsis">
      split
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack" class="md-nav__link">
    <span class="md-ellipsis">
      SegmentTrack
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SegmentTrack">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.add_segmeent" class="md-nav__link">
    <span class="md-ellipsis">
      add_segmeent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.find_overlap_with_segment" class="md-nav__link">
    <span class="md-ellipsis">
      find_overlap_with_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_avg_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_avg_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_avg_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_closest_point" class="md-nav__link">
    <span class="md-ellipsis">
      get_closest_point
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_max_pp_distance" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_max_pp_distance_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      get_max_pp_distance_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_point_data_in_segmnet" class="md-nav__link">
    <span class="md-ellipsis">
      get_point_data_in_segmnet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_segment_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_segment_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_segment_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_track_data" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_track_overview" class="md-nav__link">
    <span class="md-ellipsis">
      get_track_overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.get_xml" class="md-nav__link">
    <span class="md-ellipsis">
      get_xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.interpolate_points_in_segment" class="md-nav__link">
    <span class="md-ellipsis">
      interpolate_points_in_segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.plot" class="md-nav__link">
    <span class="md-ellipsis">
      plot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geo_track_analyzer.track.SegmentTrack.split" class="md-nav__link">
    <span class="md-ellipsis">
      split
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/kschweiger/track_analyzer/edit/master/docs/api_tracks.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


<h1 id="track-reference">Track Reference</h1>


<div class="doc doc-object doc-class">



<h2 id="geo_track_analyzer.track.GPXFileTrack" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code class="highlight language-python"><span class="n">GPXFileTrack</span><span class="p">(</span><span class="n">gpx_file</span><span class="p">,</span> <span class="n">n_track</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stopped_speed_threshold</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_speed_percentile</span><span class="o">=</span><span class="mi">95</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><span title="geo_track_analyzer.track.Track">Track</span></code></p>

  
      <p>Track that should be initialized by loading a .gpx file</p>
  
      <p>Initialize a Track object from a gpx file</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>gpx_file</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Path to the gpx file.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>n_track</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of track in the gpx file, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>stopped_speed_threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minium speed required for a point to be count as moving, defaults to 1</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>max_speed_percentile</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Points with speed outside of the percentile are not counted when analyzing the track, defaults to 95</p>
            </div>
          </td>
          <td>
                <code>95</code>
          </td>
        </tr>
    </tbody>
  </table>

                <details class="quote">
                  <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
                  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">gpx_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">n_track</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">stopped_speed_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">max_speed_percentile</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">95</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize a Track object from a gpx file</span>

<span class="sd">    :param gpx_file: Path to the gpx file.</span>
<span class="sd">    :param n_track: Index of track in the gpx file, defaults to 0</span>
<span class="sd">    :param stopped_speed_threshold: Minium speed required for a point to be count</span>
<span class="sd">        as moving, defaults to 1</span>
<span class="sd">    :param max_speed_percentile: Points with speed outside of the percentile are not</span>
<span class="sd">        counted when analyzing the track, defaults to 95</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
        <span class="n">stopped_speed_threshold</span><span class="o">=</span><span class="n">stopped_speed_threshold</span><span class="p">,</span>
        <span class="n">max_speed_percentile</span><span class="o">=</span><span class="n">max_speed_percentile</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Loading gpx track from file </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">gpx_file</span><span class="p">)</span>

    <span class="n">gpx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_gpx</span><span class="p">(</span><span class="n">gpx_file</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_track</span> <span class="o">=</span> <span class="n">gpx</span><span class="o">.</span><span class="n">tracks</span><span class="p">[</span><span class="n">n_track</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
                </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.GPXFileTrack.add_segmeent" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">add_segmeent</span><span class="p">(</span><span class="n">segment</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Add a new segment ot the track</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>segment</code></td>
          <td>
                <code><span title="gpxpy.gpx.GPXTrackSegment">GPXTrackSegment</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>GPXTracksegment to be added</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_segmeent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">segment</span><span class="p">:</span> <span class="n">GPXTrackSegment</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add a new segment ot the track</span>

<span class="sd">    :param segment: GPXTracksegment to be added</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">segment</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Added segment with postition: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.GPXFileTrack.find_overlap_with_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">find_overlap_with_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="p">,</span> <span class="n">match_track</span><span class="p">,</span> <span class="n">match_track_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">overlap_threshold</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">max_queue_normalize</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">merge_subsegments</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">extensions_interpolation</span><span class="o">=</span><span class="s1">&#39;copy_forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Find overlap of a segment of the track with a segment in another track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Segment in the track that sould be used as base for the comparison</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>match_track</code></td>
          <td>
                <code><span title="geo_track_analyzer.track.Track">Track</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Track object containing the segment to be matched</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>match_track_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Segment on the passed track that should be matched to the segment in this track, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>width</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Width (in meters) of the grid that will be filled to estimate the overalp , defaults to 50</p>
            </div>
          </td>
          <td>
                <code>50</code>
          </td>
        </tr>
        <tr>
          <td><code>overlap_threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum overlap (as fracrtion) required to return the overlap data, defaults to 0.75</p>
            </div>
          </td>
          <td>
                <code>0.75</code>
          </td>
        </tr>
        <tr>
          <td><code>max_queue_normalize</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum number of successive points in the segment between two points falling into same plate bin, defaults to 5</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>merge_subsegments</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of points between sub segments allowed for merging the segments, defaults to 5</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>extensions_interpolation</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;copy-forward&#39;, &#39;meet-center&#39;, &#39;linear&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>How should the extenstion (if present) be defined in the interpolated points, defaults to copy-forward</p>
            </div>
          </td>
          <td>
                <code>&#39;copy_forward&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Sequence">Sequence</span>[tuple[<span title="geo_track_analyzer.track.Track">Track</span>, float, bool]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tuple containing a Track with the overlapping points, the overlap in percent, and the direction of the overlap</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">find_overlap_with_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">match_track</span><span class="p">:</span> <span class="n">Track</span><span class="p">,</span>
    <span class="n">match_track_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
    <span class="n">overlap_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.75</span><span class="p">,</span>
    <span class="n">max_queue_normalize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">merge_subsegments</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">extensions_interpolation</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
        <span class="s2">&quot;copy-forward&quot;</span><span class="p">,</span> <span class="s2">&quot;meet-center&quot;</span><span class="p">,</span> <span class="s2">&quot;linear&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;copy_forward&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Track</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find overlap of a segment of the track with a segment in another track.</span>

<span class="sd">    :param n_segment: Segment in the track that sould be used as base for the</span>
<span class="sd">        comparison</span>
<span class="sd">    :param match_track: Track object containing the segment to be matched</span>
<span class="sd">    :param match_track_segment: Segment on the passed track that should be matched</span>
<span class="sd">        to the segment in this track, defaults to 0</span>
<span class="sd">    :param width: Width (in meters) of the grid that will be filled to estimate</span>
<span class="sd">        the overalp , defaults to 50</span>
<span class="sd">    :param overlap_threshold: Minimum overlap (as fracrtion) required to return the</span>
<span class="sd">        overlap data, defaults to 0.75</span>
<span class="sd">    :param max_queue_normalize: Minimum number of successive points in the segment</span>
<span class="sd">        between two points falling into same plate bin, defaults to 5</span>
<span class="sd">    :param merge_subsegments: Number of points between sub segments allowed</span>
<span class="sd">        for merging the segments, defaults to 5</span>
<span class="sd">    :param extensions_interpolation: How should the extenstion (if present) be</span>
<span class="sd">        defined in the interpolated points, defaults to copy-forward</span>

<span class="sd">    :return: Tuple containing a Track with the overlapping points, the overlap in</span>
<span class="sd">        percent, and the direction of the overlap</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">max_distance_self</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_max_pp_distance_in_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>

    <span class="n">segment_self</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">max_distance_self</span> <span class="o">&gt;</span> <span class="n">width</span><span class="p">:</span>
        <span class="n">segment_self</span> <span class="o">=</span> <span class="n">interpolate_segment</span><span class="p">(</span>
            <span class="n">segment_self</span><span class="p">,</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="n">extensions_interpolation</span>
        <span class="p">)</span>

    <span class="n">max_distance_match</span> <span class="o">=</span> <span class="n">match_track</span><span class="o">.</span><span class="n">get_max_pp_distance_in_segment</span><span class="p">(</span>
        <span class="n">match_track_segment</span>
    <span class="p">)</span>
    <span class="n">segment_match</span> <span class="o">=</span> <span class="n">match_track</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">match_track_segment</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">max_distance_match</span> <span class="o">&gt;</span> <span class="n">width</span><span class="p">:</span>
        <span class="n">segment_match</span> <span class="o">=</span> <span class="n">interpolate_segment</span><span class="p">(</span>
            <span class="n">segment_match</span><span class="p">,</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="n">extensions_interpolation</span>
        <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Looking for overlapping segments&quot;</span><span class="p">)</span>
    <span class="n">segment_overlaps</span> <span class="o">=</span> <span class="n">get_segment_overlap</span><span class="p">(</span>
        <span class="n">segment_self</span><span class="p">,</span>
        <span class="n">segment_match</span><span class="p">,</span>
        <span class="n">width</span><span class="p">,</span>
        <span class="n">max_queue_normalize</span><span class="p">,</span>
        <span class="n">merge_subsegments</span><span class="p">,</span>
        <span class="n">overlap_threshold</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">matched_tracks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Track</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">overlap</span> <span class="ow">in</span> <span class="n">segment_overlaps</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Found: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">overlap</span><span class="p">)</span>
        <span class="n">matched_segment</span> <span class="o">=</span> <span class="n">GPXTrackSegment</span><span class="p">()</span>
        <span class="c1"># TODO: Might need to go up to overlap.end_idx + 1?</span>
        <span class="n">matched_segment</span><span class="o">.</span><span class="n">points</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span><span class="o">.</span><span class="n">points</span><span class="p">[</span>
            <span class="n">overlap</span><span class="o">.</span><span class="n">start_idx</span> <span class="p">:</span> <span class="n">overlap</span><span class="o">.</span><span class="n">end_idx</span>
        <span class="p">]</span>
        <span class="n">matched_tracks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">(</span>
                <span class="n">SegmentTrack</span><span class="p">(</span>
                    <span class="n">matched_segment</span><span class="p">,</span>
                    <span class="n">stopped_speed_threshold</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stopped_speed_threshold</span><span class="p">,</span>
                    <span class="n">max_speed_percentile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_speed_percentile</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">overlap</span><span class="o">.</span><span class="n">overlap</span><span class="p">,</span>
                <span class="n">overlap</span><span class="o">.</span><span class="n">inverse</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">matched_tracks</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.GPXFileTrack.get_avg_pp_distance" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_avg_pp_distance</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get average distance between points in the track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the average, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Average distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_avg_pp_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get average distance between points in the track.</span>

<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        average, defaults to 10</span>

<span class="sd">    :return: Average distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance</span><span class="p">(</span><span class="s2">&quot;average&quot;</span><span class="p">,</span> <span class="n">threshold</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.GPXFileTrack.get_avg_pp_distance_in_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_avg_pp_distance_in_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get average distance between points in the segment with index n_segment.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement to process, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the average, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Average distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_avg_pp_distance_in_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get average distance between points in the segment with index n_segment.</span>

<span class="sd">    :param n_segment: Index of the segement to process, defaults to 0</span>
<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        average, defaults to 10</span>

<span class="sd">    :return: Average distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance_in_segment</span><span class="p">(</span>
        <span class="s2">&quot;average&quot;</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">,</span> <span class="n">threshold</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.GPXFileTrack.get_closest_point" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_closest_point</span><span class="p">(</span><span class="n">n_segment</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get closest point in a segment to the passed latitude and longitude</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segment</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>latitude</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Latitude to check</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>longitude</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Longitude to check</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="geo_track_analyzer.model.PointDistance" href="../api_model/#geo_track_analyzer.model.PointDistance">PointDistance</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tuple containg the point as GPXTrackPoint, the distance from the passed coordinates and the index in the segment</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_closest_point</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">latitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">longitude</span><span class="p">:</span> <span class="nb">float</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PointDistance</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get closest point in a segment to the passed latitude and longitude</span>

<span class="sd">    :param n_segment: Index of the segment</span>
<span class="sd">    :param latitude: Latitude to check</span>
<span class="sd">    :param longitude: Longitude to check</span>

<span class="sd">    :return: Tuple containg the point as GPXTrackPoint, the distance from</span>
<span class="sd">        the passed coordinates and the index in the segment</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_point_distance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.GPXFileTrack.get_max_pp_distance" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_max_pp_distance</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get maximum distance between points in the track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the maximum, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_max_pp_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get maximum distance between points in the track.</span>

<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        maximum, defaults to 10</span>

<span class="sd">    :return: Maximum distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance</span><span class="p">(</span><span class="s2">&quot;max&quot;</span><span class="p">,</span> <span class="n">threshold</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.GPXFileTrack.get_max_pp_distance_in_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_max_pp_distance_in_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get maximum distance between points in the segment with index n_segment.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement to process, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the maximum, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_max_pp_distance_in_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get maximum distance between points in the segment with index n_segment.</span>

<span class="sd">    :param n_segment: Index of the segement to process, defaults to 0</span>
<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        maximum, defaults to 10</span>

<span class="sd">    :return: Maximum distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance_in_segment</span><span class="p">(</span><span class="s2">&quot;max&quot;</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">,</span> <span class="n">threshold</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.GPXFileTrack.get_point_data_in_segmnet" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_point_data_in_segmnet</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get raw coordinates (latitude, longitude), times and elevations for the
segement with the passed index.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>tuple[list[tuple[float, float]], None | list[float], None | list[<span title="datetime.datetime">datetime</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>tuple with coordinates (latitude, longitude), times and elevations</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_point_data_in_segmnet</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">datetime</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get raw coordinates (latitude, longitude), times and elevations for the</span>
<span class="sd">    segement with the passed index.</span>

<span class="sd">    :param n_segment: Index of the segement, defaults to 0</span>

<span class="sd">    :return: tuple with coordinates (latitude, longitude), times and elevations</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">coords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">elevations</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">times</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span><span class="o">.</span><span class="n">points</span><span class="p">:</span>
        <span class="n">coords</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">point</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span> <span class="n">point</span><span class="o">.</span><span class="n">longitude</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">point</span><span class="o">.</span><span class="n">elevation</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">elevations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">elevation</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">point</span><span class="o">.</span><span class="n">time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">elevations</span><span class="p">:</span>
        <span class="n">elevations</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">elevations</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">TrackTransformationError</span><span class="p">(</span>
            <span class="s2">&quot;Elevation is not set for all points. This is not supported&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">times</span><span class="p">:</span>
        <span class="n">times</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">times</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">TrackTransformationError</span><span class="p">(</span>
            <span class="s2">&quot;Elevation is not set for all points. This is not supported&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">coords</span><span class="p">,</span> <span class="n">elevations</span><span class="p">,</span> <span class="n">times</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.GPXFileTrack.get_segment_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_segment_data</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get processed data for the segmeent with passed index as DataFrame</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame with segmenet data</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_segment_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get processed data for the segmeent with passed index as DataFrame</span>

<span class="sd">    :param n_segment: Index of the segement, defaults to 0</span>

<span class="sd">    :return: DataFrame with segmenet data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_segment_data</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.GPXFileTrack.get_segment_overview" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_segment_overview</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get overall metrics for a segment</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segment the overview should be generated for, default to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="geo_track_analyzer.model.SegmentOverview" href="../api_model/#geo_track_analyzer.model.SegmentOverview">SegmentOverview</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A SegmentOverview object containing the metrics moving time and distance, total time and distance, maximum and average speed and elevation and cummulated uphill, downholl elevation</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_segment_overview</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SegmentOverview</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get overall metrics for a segment</span>

<span class="sd">    :param n_segment: Index of the segment the overview should be generated for,</span>
<span class="sd">        default to 0</span>

<span class="sd">    :returns: A SegmentOverview object containing the metrics moving time and</span>
<span class="sd">        distance, total time and distance, maximum and average speed and elevation</span>
<span class="sd">        and cummulated uphill, downholl elevation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="p">(</span>
        <span class="n">time</span><span class="p">,</span>
        <span class="n">distance</span><span class="p">,</span>
        <span class="n">stopped_time</span><span class="p">,</span>
        <span class="n">stopped_distance</span><span class="p">,</span>
        <span class="n">data</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_segment_data</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>

    <span class="n">max_speed</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">avg_speed</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span><span class="o">.</span><span class="n">has_times</span><span class="p">():</span>
        <span class="n">max_speed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">avg_speed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_segment_overview</span><span class="p">(</span>
        <span class="n">time</span><span class="o">=</span><span class="n">time</span><span class="p">,</span>
        <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span>
        <span class="n">stopped_time</span><span class="o">=</span><span class="n">stopped_time</span><span class="p">,</span>
        <span class="n">stopped_distance</span><span class="o">=</span><span class="n">stopped_distance</span><span class="p">,</span>
        <span class="n">max_speed</span><span class="o">=</span><span class="n">max_speed</span><span class="p">,</span>
        <span class="n">avg_speed</span><span class="o">=</span><span class="n">avg_speed</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.GPXFileTrack.get_track_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_track_data</span><span class="p">(</span><span class="n">connect_segments</span><span class="o">=</span><span class="s1">&#39;forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get processed data for the track as DataFrame. Segment are indicated
via the segment column.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame with track data</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_track_data</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">connect_segments</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;full&quot;</span><span class="p">,</span> <span class="s2">&quot;forward&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;forward&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get processed data for the track as DataFrame. Segment are indicated</span>
<span class="sd">    via the segment column.</span>

<span class="sd">    :return: DataFrame with track data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">track_data</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">track_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_track_data</span><span class="p">(</span>
        <span class="n">connect_segments</span><span class="o">=</span><span class="n">connect_segments</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">track_data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.GPXFileTrack.get_track_overview" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_track_overview</span><span class="p">(</span><span class="n">connect_segments</span><span class="o">=</span><span class="s1">&#39;forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get overall metrics for the track. Equivalent to the sum of all segments</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="geo_track_analyzer.model.SegmentOverview" href="../api_model/#geo_track_analyzer.model.SegmentOverview">SegmentOverview</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A SegmentOverview object containing the metrics</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_track_overview</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">connect_segments</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;full&quot;</span><span class="p">,</span> <span class="s2">&quot;forward&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;forward&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SegmentOverview</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get overall metrics for the track. Equivalent to the sum of all segments</span>

<span class="sd">    :return: A SegmentOverview object containing the metrics</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="p">(</span>
        <span class="n">track_time</span><span class="p">,</span>
        <span class="n">track_distance</span><span class="p">,</span>
        <span class="n">track_stopped_time</span><span class="p">,</span>
        <span class="n">track_stopped_distance</span><span class="p">,</span>
        <span class="n">track_data</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_track_data</span><span class="p">(</span><span class="n">connect_segments</span><span class="o">=</span><span class="n">connect_segments</span><span class="p">)</span>

    <span class="n">track_max_speed</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">track_avg_speed</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">seg</span><span class="o">.</span><span class="n">has_times</span><span class="p">()</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">):</span>
        <span class="n">track_max_speed</span> <span class="o">=</span> <span class="n">track_data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">track_data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">track_avg_speed</span> <span class="o">=</span> <span class="n">track_data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">track_data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_segment_overview</span><span class="p">(</span>
        <span class="n">time</span><span class="o">=</span><span class="n">track_time</span><span class="p">,</span>
        <span class="n">distance</span><span class="o">=</span><span class="n">track_distance</span><span class="p">,</span>
        <span class="n">stopped_time</span><span class="o">=</span><span class="n">track_stopped_time</span><span class="p">,</span>
        <span class="n">stopped_distance</span><span class="o">=</span><span class="n">track_stopped_distance</span><span class="p">,</span>
        <span class="n">max_speed</span><span class="o">=</span><span class="n">track_max_speed</span><span class="p">,</span>
        <span class="n">avg_speed</span><span class="o">=</span><span class="n">track_avg_speed</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">track_data</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.GPXFileTrack.get_xml" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_xml</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get track as .gpx file data</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>None | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional author name to be added to gpx file, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>email</code></td>
          <td>
                <code>None | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional auther e-mail address to be added to the gpx file, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Content of a gpx file</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span>
<span class="normal">99</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">email</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get track as .gpx file data</span>

<span class="sd">    :param name: Optional author name to be added to gpx file, defaults to None</span>
<span class="sd">    :param email: Optional auther e-mail address to be added to the gpx file,</span>
<span class="sd">        defaults to None</span>

<span class="sd">    :return: Content of a gpx file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">gpx</span> <span class="o">=</span> <span class="n">GPX</span><span class="p">()</span>

    <span class="n">gpx</span><span class="o">.</span><span class="n">tracks</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="p">]</span>
    <span class="n">gpx</span><span class="o">.</span><span class="n">author_name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="n">gpx</span><span class="o">.</span><span class="n">author_email</span> <span class="o">=</span> <span class="n">email</span>

    <span class="k">return</span> <span class="n">gpx</span><span class="o">.</span><span class="n">to_xml</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.GPXFileTrack.interpolate_points_in_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">interpolate_points_in_segment</span><span class="p">(</span><span class="n">spacing</span><span class="p">,</span> <span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="s1">&#39;copy_forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Add additdion points to a segment by interpolating along the direct line
between each point pair according to the passed spacing parameter. If present,
elevation and time will be linearly interpolated. Extensions (Heartrate,
Cadence, Power) will be interpolated according to value of copy_extensions.
Optionas are:</p>
<ul>
<li>copy the value from the start point of the interpolation (copy-forward)</li>
<li>Use value of start point for first half and last point for second half
  (meet-center)</li>
<li>Linear interpolation (linear)</li>
</ul>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>spacing</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points added by the interpolation</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>segment in the track to use, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>copy_extension</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>How should the extenstion (if present) be defined in the interpolated points.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">interpolate_points_in_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">spacing</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">copy_extensions</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
        <span class="s2">&quot;copy-forward&quot;</span><span class="p">,</span> <span class="s2">&quot;meet-center&quot;</span><span class="p">,</span> <span class="s2">&quot;linear&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;copy_forward&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add additdion points to a segment by interpolating along the direct line</span>
<span class="sd">    between each point pair according to the passed spacing parameter. If present,</span>
<span class="sd">    elevation and time will be linearly interpolated. Extensions (Heartrate,</span>
<span class="sd">    Cadence, Power) will be interpolated according to value of copy_extensions.</span>
<span class="sd">    Optionas are:</span>

<span class="sd">    - copy the value from the start point of the interpolation (copy-forward)</span>
<span class="sd">    - Use value of start point for first half and last point for second half</span>
<span class="sd">      (meet-center)</span>
<span class="sd">    - Linear interpolation (linear)</span>


<span class="sd">    :param spacing: Minimum distance between points added by the interpolation</span>
<span class="sd">    :param n_segment: segment in the track to use, defaults to 0</span>
<span class="sd">    :param copy_extension: How should the extenstion (if present) be defined in the</span>
<span class="sd">        interpolated points.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span> <span class="o">=</span> <span class="n">interpolate_segment</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">],</span> <span class="n">spacing</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="n">copy_extensions</span>
    <span class="p">)</span>

    <span class="c1"># Reset saved processed data</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_processed_track_data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_processed_track_data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n_segment</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_processed_segment_data</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Deleting saved processed segment data for segment </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">n_segment</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_processed_segment_data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.GPXFileTrack.plot" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">segment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">reduce_pp_intervals</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Visualize the full track or a single segment.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>kind</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;profile&#39;, &#39;profile-slope&#39;, &#39;map-line&#39;, &#39;map-line-enhanced&#39;, &#39;map-segments&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Kind of plot to be generated  - profile: Elevation profile of the track. May be enhanced with additional information like Velocity, Heartrate, Cadence, and Power. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_2d</code> - profile-slope: Elevation profile with slopes between points. Use the reduce_pp_intervals argument to reduce the number of slope intervals. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_with_slope</code> - map-line: Visualize coordinates on the map. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_line_on_map</code> - map-line-enhanced: Visualize coordinates on the map. Enhance with additional information like Elevation, Velocity, Heartrate, Cadence, and Power. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_enriched_on_map</code> - map-segments: Visualize coordinates on the map split into segments. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_segments_on_map</code></p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>segment</code></td>
          <td>
                <code>None | int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Select a specific segment, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>reduce_pp_intervals</code></td>
          <td>
                <code>None | int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optionally pass a distance in m which is used to reduce the points in a track, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="plotly.graph_objs.graph_objs.Figure">Figure</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Figure (plotly)</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>VisualizationSetupError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the plot prequisites are not met</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">kind</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
        <span class="s2">&quot;profile&quot;</span><span class="p">,</span> <span class="s2">&quot;profile-slope&quot;</span><span class="p">,</span> <span class="s2">&quot;map-line&quot;</span><span class="p">,</span> <span class="s2">&quot;map-line-enhanced&quot;</span><span class="p">,</span> <span class="s2">&quot;map-segments&quot;</span>
    <span class="p">],</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">segment</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">reduce_pp_intervals</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Figure</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Visualize the full track or a single segment.</span>

<span class="sd">    :param kind: Kind of plot to be generated</span>

<span class="sd">        - profile: Elevation profile of the track. May be enhanced with additional</span>
<span class="sd">          information like Velocity, Heartrate, Cadence, and Power. Pass keyword</span>
<span class="sd">          args for :func:`~geo_track_analyzer.visualize.plot_track_2d`</span>
<span class="sd">        - profile-slope: Elevation profile with slopes between points. Use the</span>
<span class="sd">          reduce_pp_intervals argument to reduce the number of slope intervals.</span>
<span class="sd">          Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_track_with_slope`</span>
<span class="sd">        - map-line: Visualize coordinates on the map. Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_track_line_on_map`</span>
<span class="sd">        - map-line-enhanced: Visualize coordinates on the map. Enhance with</span>
<span class="sd">          additional information like Elevation, Velocity, Heartrate, Cadence, and</span>
<span class="sd">          Power. Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_track_enriched_on_map`</span>
<span class="sd">        - map-segments: Visualize coordinates on the map split into segments.</span>
<span class="sd">          Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_segments_on_map`</span>
<span class="sd">    :param segment: Select a specific segment, defaults to None</span>
<span class="sd">    :param reduce_pp_intervals: Optionally pass a distance in m which is used to</span>
<span class="sd">        reduce the points in a track, defaults to None</span>
<span class="sd">    :raises VisualizationSetupError: If the plot prequisites are not met</span>

<span class="sd">    :return: Figure (plotly)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">valid_kinds</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;profile&quot;</span><span class="p">,</span>
        <span class="s2">&quot;profile-slope&quot;</span><span class="p">,</span>
        <span class="s2">&quot;map-line&quot;</span><span class="p">,</span>
        <span class="s2">&quot;map-line-enhanced&quot;</span><span class="p">,</span>
        <span class="s2">&quot;map-segments&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="n">require_elevation</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;profile&quot;</span><span class="p">,</span> <span class="s2">&quot;profile-slope&quot;</span><span class="p">]</span>
    <span class="n">connect_segment_full</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;map-segments&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">kind</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_kinds</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">VisualizationSetupError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Kind </span><span class="si">{</span><span class="n">kind</span><span class="si">}</span><span class="s2"> is not valid. Pass on of </span><span class="si">{</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">valid_kinds</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">segment</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">geo_track_analyzer.utils.track</span> <span class="kn">import</span> <span class="n">extract_track_data_for_plot</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">extract_track_data_for_plot</span><span class="p">(</span>
            <span class="n">track</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span>
            <span class="n">require_elevation</span><span class="o">=</span><span class="n">require_elevation</span><span class="p">,</span>
            <span class="n">intervals</span><span class="o">=</span><span class="n">reduce_pp_intervals</span><span class="p">,</span>
            <span class="n">connect_segments</span><span class="o">=</span><span class="s2">&quot;full&quot;</span> <span class="k">if</span> <span class="n">kind</span> <span class="ow">in</span> <span class="n">connect_segment_full</span> <span class="k">else</span> <span class="s2">&quot;forward&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">geo_track_analyzer.utils.track</span> <span class="kn">import</span> <span class="n">extract_segment_data_for_plot</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">extract_segment_data_for_plot</span><span class="p">(</span>
            <span class="n">track</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">segment</span><span class="o">=</span><span class="n">segment</span><span class="p">,</span>
            <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span>
            <span class="n">require_elevation</span><span class="o">=</span><span class="n">require_elevation</span><span class="p">,</span>
            <span class="n">intervals</span><span class="o">=</span><span class="n">reduce_pp_intervals</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">fig</span><span class="p">:</span> <span class="n">Figure</span>
    <span class="k">if</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;profile&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_2d</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;profile-slope&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_with_slope</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;map-line&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_line_on_map</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;map-line-enhanced&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_enriched_on_map</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_segments_on_map</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fig</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.GPXFileTrack.split" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">split</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="n">distance_threshold</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Split the track at the passed coordinates. The distance_threshold parameter
defines the maximum distance between the passed coordingates and the closest
point in the track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>coords</code></td>
          <td>
                <code>tuple[float, float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Latitude, Longitude point at which the split should be made</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>distance_threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance between coords and closest point, defaults to 20</p>
            </div>
          </td>
          <td>
                <code>20</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>TrackTransformationError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If distance exceeds threshold</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">split</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="n">distance_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">20</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Split the track at the passed coordinates. The distance_threshold parameter</span>
<span class="sd">    defines the maximum distance between the passed coordingates and the closest</span>
<span class="sd">    point in the track.</span>

<span class="sd">    :param coords: Latitude, Longitude point at which the split should be made</span>
<span class="sd">    :param distance_threshold: Maximum distance between coords and closest point,</span>
<span class="sd">        defaults to 20</span>

<span class="sd">    :raises TrackTransformationError: If distance exceeds threshold</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lat</span><span class="p">,</span> <span class="n">long</span> <span class="o">=</span> <span class="n">coords</span>
    <span class="n">point_distance</span> <span class="o">=</span> <span class="n">get_point_distance</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=</span><span class="n">lat</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="n">long</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">point_distance</span><span class="o">.</span><span class="n">distance</span> <span class="o">&gt;</span> <span class="n">distance_threshold</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">TrackTransformationError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Closes point in track has distance </span><span class="si">{</span><span class="n">point_distance</span><span class="o">.</span><span class="n">distance</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">m &quot;</span>
            <span class="s2">&quot;from passed coordingates&quot;</span>
        <span class="p">)</span>
    <span class="c1"># Split the segment. The closest point should be the first</span>
    <span class="c1"># point of the second segment</span>
    <span class="n">pre_segment</span><span class="p">,</span> <span class="n">post_segment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span>
        <span class="n">point_distance</span><span class="o">.</span><span class="n">segment_idx</span>
    <span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">point_distance</span><span class="o">.</span><span class="n">segment_point_idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">point_distance</span><span class="o">.</span><span class="n">segment_idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">pre_segment</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">point_distance</span><span class="o">.</span><span class="n">segment_idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">post_segment</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_processed_segment_data</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_processed_track_data</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h2 id="geo_track_analyzer.track.FITTrack" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code class="highlight language-python"><span class="n">FITTrack</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">stopped_speed_threshold</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_speed_percentile</span><span class="o">=</span><span class="mi">95</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><span title="geo_track_analyzer.track.Track">Track</span></code></p>

  
      <p>Track that should be initialized by loading a .fit file</p>
  
      <p>Load a .fit file and extract the data into a Track object.
NOTE: Tested with Wahoo devices only</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>source</code></td>
          <td>
                <code>str | bytes</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Patch to fit file or byte representation of fit file</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>stopped_speed_threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minium speed required for a point to be count as moving, defaults to 1</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>max_speed_percentile</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Points with speed outside of the percentile are not counted when analyzing the track, defaults to 95</p>
            </div>
          </td>
          <td>
                <code>95</code>
          </td>
        </tr>
    </tbody>
  </table>

                <details class="quote">
                  <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
                  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">,</span>
    <span class="n">stopped_speed_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">max_speed_percentile</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">95</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load a .fit file and extract the data into a Track object.</span>
<span class="sd">    NOTE: Tested with Wahoo devices only</span>

<span class="sd">    :param source: Patch to fit file or byte representation of fit file</span>
<span class="sd">    :param stopped_speed_threshold: Minium speed required for a point to be count</span>
<span class="sd">        as moving, defaults to 1</span>
<span class="sd">    :param max_speed_percentile: Points with speed outside of the percentile are not</span>
<span class="sd">        counted when analyzing the track, defaults to 95</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
        <span class="n">stopped_speed_threshold</span><span class="o">=</span><span class="n">stopped_speed_threshold</span><span class="p">,</span>
        <span class="n">max_speed_percentile</span><span class="o">=</span><span class="n">max_speed_percentile</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Loading fit track from file </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Using passed bytes data as fit track&quot;</span><span class="p">)</span>

    <span class="n">fit_data</span> <span class="o">=</span> <span class="n">FitFile</span><span class="p">(</span>
        <span class="n">source</span><span class="p">,</span>
        <span class="n">data_processor</span><span class="o">=</span><span class="n">StandardUnitsDataProcessor</span><span class="p">(),</span>
    <span class="p">)</span>

    <span class="n">points</span><span class="p">,</span> <span class="n">elevations</span><span class="p">,</span> <span class="n">times</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>
    <span class="n">heartrates</span><span class="p">,</span> <span class="n">cadences</span><span class="p">,</span> <span class="n">powers</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">fit_data</span><span class="o">.</span><span class="n">get_messages</span><span class="p">(</span><span class="s2">&quot;record&quot;</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
        <span class="n">record</span><span class="p">:</span> <span class="n">DataMessage</span>  <span class="c1"># type: ignore</span>
        <span class="n">lat</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s2">&quot;position_lat&quot;</span><span class="p">)</span>
        <span class="n">long</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s2">&quot;position_long&quot;</span><span class="p">)</span>
        <span class="n">ele</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s2">&quot;enhanced_altitude&quot;</span><span class="p">)</span>
        <span class="n">ts</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s2">&quot;timestamp&quot;</span><span class="p">)</span>

        <span class="n">hr</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s2">&quot;heart_rate&quot;</span><span class="p">)</span>
        <span class="n">cad</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s2">&quot;cadence&quot;</span><span class="p">)</span>
        <span class="n">pw</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s2">&quot;power&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span><span class="n">lat</span><span class="p">,</span> <span class="n">long</span><span class="p">,</span> <span class="n">ele</span><span class="p">,</span> <span class="n">ts</span><span class="p">]]):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Found records with None value in lat/long/elevation/timestamp &quot;</span>
                <span class="s2">&quot; - </span><span class="si">%s</span><span class="s2">/</span><span class="si">%s</span><span class="s2">/</span><span class="si">%s</span><span class="s2">/</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">lat</span><span class="p">,</span>
                <span class="n">long</span><span class="p">,</span>
                <span class="n">ele</span><span class="p">,</span>
                <span class="n">ts</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">continue</span>

        <span class="n">points</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">lat</span><span class="p">,</span> <span class="n">long</span><span class="p">))</span>
        <span class="n">elevations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ele</span><span class="p">)</span>
        <span class="n">times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>

        <span class="n">heartrates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hr</span><span class="p">)</span>
        <span class="n">cadences</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cad</span><span class="p">)</span>
        <span class="n">powers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pw</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">session_data</span><span class="p">:</span> <span class="n">DataMessage</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">fit_data</span><span class="o">.</span><span class="n">get_messages</span><span class="p">(</span><span class="s2">&quot;session&quot;</span><span class="p">))[</span>
            <span class="o">-</span><span class="mi">1</span>
        <span class="p">]</span>  <span class="c1"># type: ignore</span>
    <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Could not load session data from fit file&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session_data</span> <span class="o">=</span> <span class="p">{</span>  <span class="c1"># type: ignore</span>
            <span class="s2">&quot;start_time&quot;</span><span class="p">:</span> <span class="n">session_data</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s2">&quot;start_time&quot;</span><span class="p">),</span>
            <span class="s2">&quot;ride_time&quot;</span><span class="p">:</span> <span class="n">session_data</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s2">&quot;total_timer_time&quot;</span><span class="p">),</span>
            <span class="s2">&quot;total_time&quot;</span><span class="p">:</span> <span class="n">session_data</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s2">&quot;total_elapsed_time&quot;</span><span class="p">),</span>
            <span class="s2">&quot;distance&quot;</span><span class="p">:</span> <span class="n">session_data</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s2">&quot;total_distance&quot;</span><span class="p">),</span>
            <span class="s2">&quot;ascent&quot;</span><span class="p">:</span> <span class="n">session_data</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s2">&quot;total_ascent&quot;</span><span class="p">),</span>
            <span class="s2">&quot;descent&quot;</span><span class="p">:</span> <span class="n">session_data</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s2">&quot;total_descent&quot;</span><span class="p">),</span>
            <span class="s2">&quot;avg_velocity&quot;</span><span class="p">:</span> <span class="n">session_data</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s2">&quot;avg_speed&quot;</span><span class="p">),</span>
            <span class="s2">&quot;max_velocity&quot;</span><span class="p">:</span> <span class="n">session_data</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="s2">&quot;max_speed&quot;</span><span class="p">),</span>
        <span class="p">}</span>

    <span class="n">gpx</span> <span class="o">=</span> <span class="n">GPX</span><span class="p">()</span>

    <span class="n">gpx_track</span> <span class="o">=</span> <span class="n">GPXTrack</span><span class="p">()</span>
    <span class="n">gpx</span><span class="o">.</span><span class="n">tracks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gpx_track</span><span class="p">)</span>

    <span class="n">gpx_segment</span> <span class="o">=</span> <span class="n">GPXTrackSegment</span><span class="p">()</span>
    <span class="n">gpx_track</span><span class="o">.</span><span class="n">segments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gpx_segment</span><span class="p">)</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lng</span><span class="p">),</span> <span class="n">ele</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">hr</span><span class="p">,</span> <span class="n">cad</span><span class="p">,</span> <span class="n">pw</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span>
        <span class="n">points</span><span class="p">,</span> <span class="n">elevations</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="n">heartrates</span><span class="p">,</span> <span class="n">cadences</span><span class="p">,</span> <span class="n">powers</span>
    <span class="p">):</span>
        <span class="n">this_extensions</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">hr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">this_extensions</span><span class="p">[</span><span class="s2">&quot;heartrate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">hr</span>
        <span class="k">if</span> <span class="n">cad</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">this_extensions</span><span class="p">[</span><span class="s2">&quot;cadence&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cad</span>
        <span class="k">if</span> <span class="n">pw</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">this_extensions</span><span class="p">[</span><span class="s2">&quot;power&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pw</span>
        <span class="n">this_point</span> <span class="o">=</span> <span class="n">get_extended_track_point</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lng</span><span class="p">,</span> <span class="n">ele</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">this_extensions</span><span class="p">)</span>

        <span class="n">gpx_segment</span><span class="o">.</span><span class="n">points</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">this_point</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_track</span> <span class="o">=</span> <span class="n">gpx</span><span class="o">.</span><span class="n">tracks</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
                </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.FITTrack.add_segmeent" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">add_segmeent</span><span class="p">(</span><span class="n">segment</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Add a new segment ot the track</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>segment</code></td>
          <td>
                <code><span title="gpxpy.gpx.GPXTrackSegment">GPXTrackSegment</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>GPXTracksegment to be added</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_segmeent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">segment</span><span class="p">:</span> <span class="n">GPXTrackSegment</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add a new segment ot the track</span>

<span class="sd">    :param segment: GPXTracksegment to be added</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">segment</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Added segment with postition: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.FITTrack.find_overlap_with_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">find_overlap_with_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="p">,</span> <span class="n">match_track</span><span class="p">,</span> <span class="n">match_track_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">overlap_threshold</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">max_queue_normalize</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">merge_subsegments</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">extensions_interpolation</span><span class="o">=</span><span class="s1">&#39;copy_forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Find overlap of a segment of the track with a segment in another track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Segment in the track that sould be used as base for the comparison</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>match_track</code></td>
          <td>
                <code><span title="geo_track_analyzer.track.Track">Track</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Track object containing the segment to be matched</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>match_track_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Segment on the passed track that should be matched to the segment in this track, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>width</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Width (in meters) of the grid that will be filled to estimate the overalp , defaults to 50</p>
            </div>
          </td>
          <td>
                <code>50</code>
          </td>
        </tr>
        <tr>
          <td><code>overlap_threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum overlap (as fracrtion) required to return the overlap data, defaults to 0.75</p>
            </div>
          </td>
          <td>
                <code>0.75</code>
          </td>
        </tr>
        <tr>
          <td><code>max_queue_normalize</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum number of successive points in the segment between two points falling into same plate bin, defaults to 5</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>merge_subsegments</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of points between sub segments allowed for merging the segments, defaults to 5</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>extensions_interpolation</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;copy-forward&#39;, &#39;meet-center&#39;, &#39;linear&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>How should the extenstion (if present) be defined in the interpolated points, defaults to copy-forward</p>
            </div>
          </td>
          <td>
                <code>&#39;copy_forward&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Sequence">Sequence</span>[tuple[<span title="geo_track_analyzer.track.Track">Track</span>, float, bool]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tuple containing a Track with the overlapping points, the overlap in percent, and the direction of the overlap</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">find_overlap_with_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">match_track</span><span class="p">:</span> <span class="n">Track</span><span class="p">,</span>
    <span class="n">match_track_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
    <span class="n">overlap_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.75</span><span class="p">,</span>
    <span class="n">max_queue_normalize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">merge_subsegments</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">extensions_interpolation</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
        <span class="s2">&quot;copy-forward&quot;</span><span class="p">,</span> <span class="s2">&quot;meet-center&quot;</span><span class="p">,</span> <span class="s2">&quot;linear&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;copy_forward&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Track</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find overlap of a segment of the track with a segment in another track.</span>

<span class="sd">    :param n_segment: Segment in the track that sould be used as base for the</span>
<span class="sd">        comparison</span>
<span class="sd">    :param match_track: Track object containing the segment to be matched</span>
<span class="sd">    :param match_track_segment: Segment on the passed track that should be matched</span>
<span class="sd">        to the segment in this track, defaults to 0</span>
<span class="sd">    :param width: Width (in meters) of the grid that will be filled to estimate</span>
<span class="sd">        the overalp , defaults to 50</span>
<span class="sd">    :param overlap_threshold: Minimum overlap (as fracrtion) required to return the</span>
<span class="sd">        overlap data, defaults to 0.75</span>
<span class="sd">    :param max_queue_normalize: Minimum number of successive points in the segment</span>
<span class="sd">        between two points falling into same plate bin, defaults to 5</span>
<span class="sd">    :param merge_subsegments: Number of points between sub segments allowed</span>
<span class="sd">        for merging the segments, defaults to 5</span>
<span class="sd">    :param extensions_interpolation: How should the extenstion (if present) be</span>
<span class="sd">        defined in the interpolated points, defaults to copy-forward</span>

<span class="sd">    :return: Tuple containing a Track with the overlapping points, the overlap in</span>
<span class="sd">        percent, and the direction of the overlap</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">max_distance_self</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_max_pp_distance_in_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>

    <span class="n">segment_self</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">max_distance_self</span> <span class="o">&gt;</span> <span class="n">width</span><span class="p">:</span>
        <span class="n">segment_self</span> <span class="o">=</span> <span class="n">interpolate_segment</span><span class="p">(</span>
            <span class="n">segment_self</span><span class="p">,</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="n">extensions_interpolation</span>
        <span class="p">)</span>

    <span class="n">max_distance_match</span> <span class="o">=</span> <span class="n">match_track</span><span class="o">.</span><span class="n">get_max_pp_distance_in_segment</span><span class="p">(</span>
        <span class="n">match_track_segment</span>
    <span class="p">)</span>
    <span class="n">segment_match</span> <span class="o">=</span> <span class="n">match_track</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">match_track_segment</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">max_distance_match</span> <span class="o">&gt;</span> <span class="n">width</span><span class="p">:</span>
        <span class="n">segment_match</span> <span class="o">=</span> <span class="n">interpolate_segment</span><span class="p">(</span>
            <span class="n">segment_match</span><span class="p">,</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="n">extensions_interpolation</span>
        <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Looking for overlapping segments&quot;</span><span class="p">)</span>
    <span class="n">segment_overlaps</span> <span class="o">=</span> <span class="n">get_segment_overlap</span><span class="p">(</span>
        <span class="n">segment_self</span><span class="p">,</span>
        <span class="n">segment_match</span><span class="p">,</span>
        <span class="n">width</span><span class="p">,</span>
        <span class="n">max_queue_normalize</span><span class="p">,</span>
        <span class="n">merge_subsegments</span><span class="p">,</span>
        <span class="n">overlap_threshold</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">matched_tracks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Track</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">overlap</span> <span class="ow">in</span> <span class="n">segment_overlaps</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Found: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">overlap</span><span class="p">)</span>
        <span class="n">matched_segment</span> <span class="o">=</span> <span class="n">GPXTrackSegment</span><span class="p">()</span>
        <span class="c1"># TODO: Might need to go up to overlap.end_idx + 1?</span>
        <span class="n">matched_segment</span><span class="o">.</span><span class="n">points</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span><span class="o">.</span><span class="n">points</span><span class="p">[</span>
            <span class="n">overlap</span><span class="o">.</span><span class="n">start_idx</span> <span class="p">:</span> <span class="n">overlap</span><span class="o">.</span><span class="n">end_idx</span>
        <span class="p">]</span>
        <span class="n">matched_tracks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">(</span>
                <span class="n">SegmentTrack</span><span class="p">(</span>
                    <span class="n">matched_segment</span><span class="p">,</span>
                    <span class="n">stopped_speed_threshold</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stopped_speed_threshold</span><span class="p">,</span>
                    <span class="n">max_speed_percentile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_speed_percentile</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">overlap</span><span class="o">.</span><span class="n">overlap</span><span class="p">,</span>
                <span class="n">overlap</span><span class="o">.</span><span class="n">inverse</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">matched_tracks</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.FITTrack.get_avg_pp_distance" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_avg_pp_distance</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get average distance between points in the track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the average, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Average distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_avg_pp_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get average distance between points in the track.</span>

<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        average, defaults to 10</span>

<span class="sd">    :return: Average distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance</span><span class="p">(</span><span class="s2">&quot;average&quot;</span><span class="p">,</span> <span class="n">threshold</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.FITTrack.get_avg_pp_distance_in_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_avg_pp_distance_in_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get average distance between points in the segment with index n_segment.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement to process, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the average, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Average distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_avg_pp_distance_in_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get average distance between points in the segment with index n_segment.</span>

<span class="sd">    :param n_segment: Index of the segement to process, defaults to 0</span>
<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        average, defaults to 10</span>

<span class="sd">    :return: Average distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance_in_segment</span><span class="p">(</span>
        <span class="s2">&quot;average&quot;</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">,</span> <span class="n">threshold</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.FITTrack.get_closest_point" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_closest_point</span><span class="p">(</span><span class="n">n_segment</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get closest point in a segment to the passed latitude and longitude</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segment</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>latitude</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Latitude to check</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>longitude</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Longitude to check</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="geo_track_analyzer.model.PointDistance" href="../api_model/#geo_track_analyzer.model.PointDistance">PointDistance</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tuple containg the point as GPXTrackPoint, the distance from the passed coordinates and the index in the segment</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_closest_point</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">latitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">longitude</span><span class="p">:</span> <span class="nb">float</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PointDistance</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get closest point in a segment to the passed latitude and longitude</span>

<span class="sd">    :param n_segment: Index of the segment</span>
<span class="sd">    :param latitude: Latitude to check</span>
<span class="sd">    :param longitude: Longitude to check</span>

<span class="sd">    :return: Tuple containg the point as GPXTrackPoint, the distance from</span>
<span class="sd">        the passed coordinates and the index in the segment</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_point_distance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.FITTrack.get_max_pp_distance" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_max_pp_distance</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get maximum distance between points in the track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the maximum, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_max_pp_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get maximum distance between points in the track.</span>

<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        maximum, defaults to 10</span>

<span class="sd">    :return: Maximum distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance</span><span class="p">(</span><span class="s2">&quot;max&quot;</span><span class="p">,</span> <span class="n">threshold</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.FITTrack.get_max_pp_distance_in_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_max_pp_distance_in_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get maximum distance between points in the segment with index n_segment.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement to process, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the maximum, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_max_pp_distance_in_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get maximum distance between points in the segment with index n_segment.</span>

<span class="sd">    :param n_segment: Index of the segement to process, defaults to 0</span>
<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        maximum, defaults to 10</span>

<span class="sd">    :return: Maximum distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance_in_segment</span><span class="p">(</span><span class="s2">&quot;max&quot;</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">,</span> <span class="n">threshold</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.FITTrack.get_point_data_in_segmnet" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_point_data_in_segmnet</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get raw coordinates (latitude, longitude), times and elevations for the
segement with the passed index.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>tuple[list[tuple[float, float]], None | list[float], None | list[<span title="datetime.datetime">datetime</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>tuple with coordinates (latitude, longitude), times and elevations</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_point_data_in_segmnet</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">datetime</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get raw coordinates (latitude, longitude), times and elevations for the</span>
<span class="sd">    segement with the passed index.</span>

<span class="sd">    :param n_segment: Index of the segement, defaults to 0</span>

<span class="sd">    :return: tuple with coordinates (latitude, longitude), times and elevations</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">coords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">elevations</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">times</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span><span class="o">.</span><span class="n">points</span><span class="p">:</span>
        <span class="n">coords</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">point</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span> <span class="n">point</span><span class="o">.</span><span class="n">longitude</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">point</span><span class="o">.</span><span class="n">elevation</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">elevations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">elevation</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">point</span><span class="o">.</span><span class="n">time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">elevations</span><span class="p">:</span>
        <span class="n">elevations</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">elevations</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">TrackTransformationError</span><span class="p">(</span>
            <span class="s2">&quot;Elevation is not set for all points. This is not supported&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">times</span><span class="p">:</span>
        <span class="n">times</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">times</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">TrackTransformationError</span><span class="p">(</span>
            <span class="s2">&quot;Elevation is not set for all points. This is not supported&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">coords</span><span class="p">,</span> <span class="n">elevations</span><span class="p">,</span> <span class="n">times</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.FITTrack.get_segment_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_segment_data</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get processed data for the segmeent with passed index as DataFrame</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame with segmenet data</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_segment_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get processed data for the segmeent with passed index as DataFrame</span>

<span class="sd">    :param n_segment: Index of the segement, defaults to 0</span>

<span class="sd">    :return: DataFrame with segmenet data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_segment_data</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.FITTrack.get_segment_overview" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_segment_overview</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get overall metrics for a segment</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segment the overview should be generated for, default to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="geo_track_analyzer.model.SegmentOverview" href="../api_model/#geo_track_analyzer.model.SegmentOverview">SegmentOverview</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A SegmentOverview object containing the metrics moving time and distance, total time and distance, maximum and average speed and elevation and cummulated uphill, downholl elevation</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_segment_overview</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SegmentOverview</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get overall metrics for a segment</span>

<span class="sd">    :param n_segment: Index of the segment the overview should be generated for,</span>
<span class="sd">        default to 0</span>

<span class="sd">    :returns: A SegmentOverview object containing the metrics moving time and</span>
<span class="sd">        distance, total time and distance, maximum and average speed and elevation</span>
<span class="sd">        and cummulated uphill, downholl elevation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="p">(</span>
        <span class="n">time</span><span class="p">,</span>
        <span class="n">distance</span><span class="p">,</span>
        <span class="n">stopped_time</span><span class="p">,</span>
        <span class="n">stopped_distance</span><span class="p">,</span>
        <span class="n">data</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_segment_data</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>

    <span class="n">max_speed</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">avg_speed</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span><span class="o">.</span><span class="n">has_times</span><span class="p">():</span>
        <span class="n">max_speed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">avg_speed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_segment_overview</span><span class="p">(</span>
        <span class="n">time</span><span class="o">=</span><span class="n">time</span><span class="p">,</span>
        <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span>
        <span class="n">stopped_time</span><span class="o">=</span><span class="n">stopped_time</span><span class="p">,</span>
        <span class="n">stopped_distance</span><span class="o">=</span><span class="n">stopped_distance</span><span class="p">,</span>
        <span class="n">max_speed</span><span class="o">=</span><span class="n">max_speed</span><span class="p">,</span>
        <span class="n">avg_speed</span><span class="o">=</span><span class="n">avg_speed</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.FITTrack.get_track_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_track_data</span><span class="p">(</span><span class="n">connect_segments</span><span class="o">=</span><span class="s1">&#39;forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get processed data for the track as DataFrame. Segment are indicated
via the segment column.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame with track data</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_track_data</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">connect_segments</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;full&quot;</span><span class="p">,</span> <span class="s2">&quot;forward&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;forward&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get processed data for the track as DataFrame. Segment are indicated</span>
<span class="sd">    via the segment column.</span>

<span class="sd">    :return: DataFrame with track data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">track_data</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">track_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_track_data</span><span class="p">(</span>
        <span class="n">connect_segments</span><span class="o">=</span><span class="n">connect_segments</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">track_data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.FITTrack.get_track_overview" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_track_overview</span><span class="p">(</span><span class="n">connect_segments</span><span class="o">=</span><span class="s1">&#39;forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get overall metrics for the track. Equivalent to the sum of all segments</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="geo_track_analyzer.model.SegmentOverview" href="../api_model/#geo_track_analyzer.model.SegmentOverview">SegmentOverview</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A SegmentOverview object containing the metrics</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_track_overview</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">connect_segments</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;full&quot;</span><span class="p">,</span> <span class="s2">&quot;forward&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;forward&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SegmentOverview</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get overall metrics for the track. Equivalent to the sum of all segments</span>

<span class="sd">    :return: A SegmentOverview object containing the metrics</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="p">(</span>
        <span class="n">track_time</span><span class="p">,</span>
        <span class="n">track_distance</span><span class="p">,</span>
        <span class="n">track_stopped_time</span><span class="p">,</span>
        <span class="n">track_stopped_distance</span><span class="p">,</span>
        <span class="n">track_data</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_track_data</span><span class="p">(</span><span class="n">connect_segments</span><span class="o">=</span><span class="n">connect_segments</span><span class="p">)</span>

    <span class="n">track_max_speed</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">track_avg_speed</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">seg</span><span class="o">.</span><span class="n">has_times</span><span class="p">()</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">):</span>
        <span class="n">track_max_speed</span> <span class="o">=</span> <span class="n">track_data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">track_data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">track_avg_speed</span> <span class="o">=</span> <span class="n">track_data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">track_data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_segment_overview</span><span class="p">(</span>
        <span class="n">time</span><span class="o">=</span><span class="n">track_time</span><span class="p">,</span>
        <span class="n">distance</span><span class="o">=</span><span class="n">track_distance</span><span class="p">,</span>
        <span class="n">stopped_time</span><span class="o">=</span><span class="n">track_stopped_time</span><span class="p">,</span>
        <span class="n">stopped_distance</span><span class="o">=</span><span class="n">track_stopped_distance</span><span class="p">,</span>
        <span class="n">max_speed</span><span class="o">=</span><span class="n">track_max_speed</span><span class="p">,</span>
        <span class="n">avg_speed</span><span class="o">=</span><span class="n">track_avg_speed</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">track_data</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.FITTrack.get_xml" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_xml</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get track as .gpx file data</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>None | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional author name to be added to gpx file, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>email</code></td>
          <td>
                <code>None | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional auther e-mail address to be added to the gpx file, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Content of a gpx file</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span>
<span class="normal">99</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">email</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get track as .gpx file data</span>

<span class="sd">    :param name: Optional author name to be added to gpx file, defaults to None</span>
<span class="sd">    :param email: Optional auther e-mail address to be added to the gpx file,</span>
<span class="sd">        defaults to None</span>

<span class="sd">    :return: Content of a gpx file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">gpx</span> <span class="o">=</span> <span class="n">GPX</span><span class="p">()</span>

    <span class="n">gpx</span><span class="o">.</span><span class="n">tracks</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="p">]</span>
    <span class="n">gpx</span><span class="o">.</span><span class="n">author_name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="n">gpx</span><span class="o">.</span><span class="n">author_email</span> <span class="o">=</span> <span class="n">email</span>

    <span class="k">return</span> <span class="n">gpx</span><span class="o">.</span><span class="n">to_xml</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.FITTrack.interpolate_points_in_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">interpolate_points_in_segment</span><span class="p">(</span><span class="n">spacing</span><span class="p">,</span> <span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="s1">&#39;copy_forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Add additdion points to a segment by interpolating along the direct line
between each point pair according to the passed spacing parameter. If present,
elevation and time will be linearly interpolated. Extensions (Heartrate,
Cadence, Power) will be interpolated according to value of copy_extensions.
Optionas are:</p>
<ul>
<li>copy the value from the start point of the interpolation (copy-forward)</li>
<li>Use value of start point for first half and last point for second half
  (meet-center)</li>
<li>Linear interpolation (linear)</li>
</ul>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>spacing</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points added by the interpolation</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>segment in the track to use, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>copy_extension</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>How should the extenstion (if present) be defined in the interpolated points.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">interpolate_points_in_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">spacing</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">copy_extensions</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
        <span class="s2">&quot;copy-forward&quot;</span><span class="p">,</span> <span class="s2">&quot;meet-center&quot;</span><span class="p">,</span> <span class="s2">&quot;linear&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;copy_forward&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add additdion points to a segment by interpolating along the direct line</span>
<span class="sd">    between each point pair according to the passed spacing parameter. If present,</span>
<span class="sd">    elevation and time will be linearly interpolated. Extensions (Heartrate,</span>
<span class="sd">    Cadence, Power) will be interpolated according to value of copy_extensions.</span>
<span class="sd">    Optionas are:</span>

<span class="sd">    - copy the value from the start point of the interpolation (copy-forward)</span>
<span class="sd">    - Use value of start point for first half and last point for second half</span>
<span class="sd">      (meet-center)</span>
<span class="sd">    - Linear interpolation (linear)</span>


<span class="sd">    :param spacing: Minimum distance between points added by the interpolation</span>
<span class="sd">    :param n_segment: segment in the track to use, defaults to 0</span>
<span class="sd">    :param copy_extension: How should the extenstion (if present) be defined in the</span>
<span class="sd">        interpolated points.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span> <span class="o">=</span> <span class="n">interpolate_segment</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">],</span> <span class="n">spacing</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="n">copy_extensions</span>
    <span class="p">)</span>

    <span class="c1"># Reset saved processed data</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_processed_track_data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_processed_track_data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n_segment</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_processed_segment_data</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Deleting saved processed segment data for segment </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">n_segment</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_processed_segment_data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.FITTrack.plot" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">segment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">reduce_pp_intervals</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Visualize the full track or a single segment.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>kind</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;profile&#39;, &#39;profile-slope&#39;, &#39;map-line&#39;, &#39;map-line-enhanced&#39;, &#39;map-segments&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Kind of plot to be generated  - profile: Elevation profile of the track. May be enhanced with additional information like Velocity, Heartrate, Cadence, and Power. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_2d</code> - profile-slope: Elevation profile with slopes between points. Use the reduce_pp_intervals argument to reduce the number of slope intervals. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_with_slope</code> - map-line: Visualize coordinates on the map. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_line_on_map</code> - map-line-enhanced: Visualize coordinates on the map. Enhance with additional information like Elevation, Velocity, Heartrate, Cadence, and Power. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_enriched_on_map</code> - map-segments: Visualize coordinates on the map split into segments. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_segments_on_map</code></p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>segment</code></td>
          <td>
                <code>None | int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Select a specific segment, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>reduce_pp_intervals</code></td>
          <td>
                <code>None | int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optionally pass a distance in m which is used to reduce the points in a track, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="plotly.graph_objs.graph_objs.Figure">Figure</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Figure (plotly)</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>VisualizationSetupError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the plot prequisites are not met</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">kind</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
        <span class="s2">&quot;profile&quot;</span><span class="p">,</span> <span class="s2">&quot;profile-slope&quot;</span><span class="p">,</span> <span class="s2">&quot;map-line&quot;</span><span class="p">,</span> <span class="s2">&quot;map-line-enhanced&quot;</span><span class="p">,</span> <span class="s2">&quot;map-segments&quot;</span>
    <span class="p">],</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">segment</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">reduce_pp_intervals</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Figure</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Visualize the full track or a single segment.</span>

<span class="sd">    :param kind: Kind of plot to be generated</span>

<span class="sd">        - profile: Elevation profile of the track. May be enhanced with additional</span>
<span class="sd">          information like Velocity, Heartrate, Cadence, and Power. Pass keyword</span>
<span class="sd">          args for :func:`~geo_track_analyzer.visualize.plot_track_2d`</span>
<span class="sd">        - profile-slope: Elevation profile with slopes between points. Use the</span>
<span class="sd">          reduce_pp_intervals argument to reduce the number of slope intervals.</span>
<span class="sd">          Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_track_with_slope`</span>
<span class="sd">        - map-line: Visualize coordinates on the map. Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_track_line_on_map`</span>
<span class="sd">        - map-line-enhanced: Visualize coordinates on the map. Enhance with</span>
<span class="sd">          additional information like Elevation, Velocity, Heartrate, Cadence, and</span>
<span class="sd">          Power. Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_track_enriched_on_map`</span>
<span class="sd">        - map-segments: Visualize coordinates on the map split into segments.</span>
<span class="sd">          Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_segments_on_map`</span>
<span class="sd">    :param segment: Select a specific segment, defaults to None</span>
<span class="sd">    :param reduce_pp_intervals: Optionally pass a distance in m which is used to</span>
<span class="sd">        reduce the points in a track, defaults to None</span>
<span class="sd">    :raises VisualizationSetupError: If the plot prequisites are not met</span>

<span class="sd">    :return: Figure (plotly)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">valid_kinds</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;profile&quot;</span><span class="p">,</span>
        <span class="s2">&quot;profile-slope&quot;</span><span class="p">,</span>
        <span class="s2">&quot;map-line&quot;</span><span class="p">,</span>
        <span class="s2">&quot;map-line-enhanced&quot;</span><span class="p">,</span>
        <span class="s2">&quot;map-segments&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="n">require_elevation</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;profile&quot;</span><span class="p">,</span> <span class="s2">&quot;profile-slope&quot;</span><span class="p">]</span>
    <span class="n">connect_segment_full</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;map-segments&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">kind</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_kinds</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">VisualizationSetupError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Kind </span><span class="si">{</span><span class="n">kind</span><span class="si">}</span><span class="s2"> is not valid. Pass on of </span><span class="si">{</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">valid_kinds</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">segment</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">geo_track_analyzer.utils.track</span> <span class="kn">import</span> <span class="n">extract_track_data_for_plot</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">extract_track_data_for_plot</span><span class="p">(</span>
            <span class="n">track</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span>
            <span class="n">require_elevation</span><span class="o">=</span><span class="n">require_elevation</span><span class="p">,</span>
            <span class="n">intervals</span><span class="o">=</span><span class="n">reduce_pp_intervals</span><span class="p">,</span>
            <span class="n">connect_segments</span><span class="o">=</span><span class="s2">&quot;full&quot;</span> <span class="k">if</span> <span class="n">kind</span> <span class="ow">in</span> <span class="n">connect_segment_full</span> <span class="k">else</span> <span class="s2">&quot;forward&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">geo_track_analyzer.utils.track</span> <span class="kn">import</span> <span class="n">extract_segment_data_for_plot</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">extract_segment_data_for_plot</span><span class="p">(</span>
            <span class="n">track</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">segment</span><span class="o">=</span><span class="n">segment</span><span class="p">,</span>
            <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span>
            <span class="n">require_elevation</span><span class="o">=</span><span class="n">require_elevation</span><span class="p">,</span>
            <span class="n">intervals</span><span class="o">=</span><span class="n">reduce_pp_intervals</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">fig</span><span class="p">:</span> <span class="n">Figure</span>
    <span class="k">if</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;profile&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_2d</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;profile-slope&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_with_slope</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;map-line&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_line_on_map</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;map-line-enhanced&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_enriched_on_map</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_segments_on_map</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fig</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.FITTrack.split" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">split</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="n">distance_threshold</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Split the track at the passed coordinates. The distance_threshold parameter
defines the maximum distance between the passed coordingates and the closest
point in the track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>coords</code></td>
          <td>
                <code>tuple[float, float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Latitude, Longitude point at which the split should be made</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>distance_threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance between coords and closest point, defaults to 20</p>
            </div>
          </td>
          <td>
                <code>20</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>TrackTransformationError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If distance exceeds threshold</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">split</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="n">distance_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">20</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Split the track at the passed coordinates. The distance_threshold parameter</span>
<span class="sd">    defines the maximum distance between the passed coordingates and the closest</span>
<span class="sd">    point in the track.</span>

<span class="sd">    :param coords: Latitude, Longitude point at which the split should be made</span>
<span class="sd">    :param distance_threshold: Maximum distance between coords and closest point,</span>
<span class="sd">        defaults to 20</span>

<span class="sd">    :raises TrackTransformationError: If distance exceeds threshold</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lat</span><span class="p">,</span> <span class="n">long</span> <span class="o">=</span> <span class="n">coords</span>
    <span class="n">point_distance</span> <span class="o">=</span> <span class="n">get_point_distance</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=</span><span class="n">lat</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="n">long</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">point_distance</span><span class="o">.</span><span class="n">distance</span> <span class="o">&gt;</span> <span class="n">distance_threshold</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">TrackTransformationError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Closes point in track has distance </span><span class="si">{</span><span class="n">point_distance</span><span class="o">.</span><span class="n">distance</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">m &quot;</span>
            <span class="s2">&quot;from passed coordingates&quot;</span>
        <span class="p">)</span>
    <span class="c1"># Split the segment. The closest point should be the first</span>
    <span class="c1"># point of the second segment</span>
    <span class="n">pre_segment</span><span class="p">,</span> <span class="n">post_segment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span>
        <span class="n">point_distance</span><span class="o">.</span><span class="n">segment_idx</span>
    <span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">point_distance</span><span class="o">.</span><span class="n">segment_point_idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">point_distance</span><span class="o">.</span><span class="n">segment_idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">pre_segment</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">point_distance</span><span class="o">.</span><span class="n">segment_idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">post_segment</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_processed_segment_data</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_processed_track_data</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h2 id="geo_track_analyzer.track.ByteTrack" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code class="highlight language-python"><span class="n">ByteTrack</span><span class="p">(</span><span class="n">bytefile</span><span class="p">,</span> <span class="n">n_track</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stopped_speed_threshold</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_speed_percentile</span><span class="o">=</span><span class="mi">95</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><span title="geo_track_analyzer.track.Track">Track</span></code></p>

  
      <p>Track that should be initialized from a byte stream</p>
  
      <p>Initialize a Track object from a gpx file</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>bytefile</code></td>
          <td>
                <code>bytes</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Bytestring of a gpx file</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>n_track</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of track in the gpx file, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>stopped_speed_threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minium speed required for a point to be count as moving, defaults to 1</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>max_speed_percentile</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Points with speed outside of the percentile are not counted when analyzing the track, defaults to 95</p>
            </div>
          </td>
          <td>
                <code>95</code>
          </td>
        </tr>
    </tbody>
  </table>

                <details class="quote">
                  <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
                  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">bytefile</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span>
    <span class="n">n_track</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">stopped_speed_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">max_speed_percentile</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">95</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize a Track object from a gpx file</span>

<span class="sd">    :param bytefile: Bytestring of a gpx file</span>
<span class="sd">    :param n_track: Index of track in the gpx file, defaults to 0</span>
<span class="sd">    :param stopped_speed_threshold: Minium speed required for a point to be count</span>
<span class="sd">        as moving, defaults to 1</span>
<span class="sd">    :param max_speed_percentile: Points with speed outside of the percentile are not</span>
<span class="sd">        counted when analyzing the track, defaults to 95</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
        <span class="n">stopped_speed_threshold</span><span class="o">=</span><span class="n">stopped_speed_threshold</span><span class="p">,</span>
        <span class="n">max_speed_percentile</span><span class="o">=</span><span class="n">max_speed_percentile</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">gpx</span> <span class="o">=</span> <span class="n">gpxpy</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">bytefile</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_track</span> <span class="o">=</span> <span class="n">gpx</span><span class="o">.</span><span class="n">tracks</span><span class="p">[</span><span class="n">n_track</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
                </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.ByteTrack.add_segmeent" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">add_segmeent</span><span class="p">(</span><span class="n">segment</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Add a new segment ot the track</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>segment</code></td>
          <td>
                <code><span title="gpxpy.gpx.GPXTrackSegment">GPXTrackSegment</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>GPXTracksegment to be added</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_segmeent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">segment</span><span class="p">:</span> <span class="n">GPXTrackSegment</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add a new segment ot the track</span>

<span class="sd">    :param segment: GPXTracksegment to be added</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">segment</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Added segment with postition: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.ByteTrack.find_overlap_with_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">find_overlap_with_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="p">,</span> <span class="n">match_track</span><span class="p">,</span> <span class="n">match_track_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">overlap_threshold</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">max_queue_normalize</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">merge_subsegments</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">extensions_interpolation</span><span class="o">=</span><span class="s1">&#39;copy_forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Find overlap of a segment of the track with a segment in another track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Segment in the track that sould be used as base for the comparison</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>match_track</code></td>
          <td>
                <code><span title="geo_track_analyzer.track.Track">Track</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Track object containing the segment to be matched</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>match_track_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Segment on the passed track that should be matched to the segment in this track, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>width</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Width (in meters) of the grid that will be filled to estimate the overalp , defaults to 50</p>
            </div>
          </td>
          <td>
                <code>50</code>
          </td>
        </tr>
        <tr>
          <td><code>overlap_threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum overlap (as fracrtion) required to return the overlap data, defaults to 0.75</p>
            </div>
          </td>
          <td>
                <code>0.75</code>
          </td>
        </tr>
        <tr>
          <td><code>max_queue_normalize</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum number of successive points in the segment between two points falling into same plate bin, defaults to 5</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>merge_subsegments</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of points between sub segments allowed for merging the segments, defaults to 5</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>extensions_interpolation</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;copy-forward&#39;, &#39;meet-center&#39;, &#39;linear&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>How should the extenstion (if present) be defined in the interpolated points, defaults to copy-forward</p>
            </div>
          </td>
          <td>
                <code>&#39;copy_forward&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Sequence">Sequence</span>[tuple[<span title="geo_track_analyzer.track.Track">Track</span>, float, bool]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tuple containing a Track with the overlapping points, the overlap in percent, and the direction of the overlap</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">find_overlap_with_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">match_track</span><span class="p">:</span> <span class="n">Track</span><span class="p">,</span>
    <span class="n">match_track_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
    <span class="n">overlap_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.75</span><span class="p">,</span>
    <span class="n">max_queue_normalize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">merge_subsegments</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">extensions_interpolation</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
        <span class="s2">&quot;copy-forward&quot;</span><span class="p">,</span> <span class="s2">&quot;meet-center&quot;</span><span class="p">,</span> <span class="s2">&quot;linear&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;copy_forward&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Track</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find overlap of a segment of the track with a segment in another track.</span>

<span class="sd">    :param n_segment: Segment in the track that sould be used as base for the</span>
<span class="sd">        comparison</span>
<span class="sd">    :param match_track: Track object containing the segment to be matched</span>
<span class="sd">    :param match_track_segment: Segment on the passed track that should be matched</span>
<span class="sd">        to the segment in this track, defaults to 0</span>
<span class="sd">    :param width: Width (in meters) of the grid that will be filled to estimate</span>
<span class="sd">        the overalp , defaults to 50</span>
<span class="sd">    :param overlap_threshold: Minimum overlap (as fracrtion) required to return the</span>
<span class="sd">        overlap data, defaults to 0.75</span>
<span class="sd">    :param max_queue_normalize: Minimum number of successive points in the segment</span>
<span class="sd">        between two points falling into same plate bin, defaults to 5</span>
<span class="sd">    :param merge_subsegments: Number of points between sub segments allowed</span>
<span class="sd">        for merging the segments, defaults to 5</span>
<span class="sd">    :param extensions_interpolation: How should the extenstion (if present) be</span>
<span class="sd">        defined in the interpolated points, defaults to copy-forward</span>

<span class="sd">    :return: Tuple containing a Track with the overlapping points, the overlap in</span>
<span class="sd">        percent, and the direction of the overlap</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">max_distance_self</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_max_pp_distance_in_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>

    <span class="n">segment_self</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">max_distance_self</span> <span class="o">&gt;</span> <span class="n">width</span><span class="p">:</span>
        <span class="n">segment_self</span> <span class="o">=</span> <span class="n">interpolate_segment</span><span class="p">(</span>
            <span class="n">segment_self</span><span class="p">,</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="n">extensions_interpolation</span>
        <span class="p">)</span>

    <span class="n">max_distance_match</span> <span class="o">=</span> <span class="n">match_track</span><span class="o">.</span><span class="n">get_max_pp_distance_in_segment</span><span class="p">(</span>
        <span class="n">match_track_segment</span>
    <span class="p">)</span>
    <span class="n">segment_match</span> <span class="o">=</span> <span class="n">match_track</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">match_track_segment</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">max_distance_match</span> <span class="o">&gt;</span> <span class="n">width</span><span class="p">:</span>
        <span class="n">segment_match</span> <span class="o">=</span> <span class="n">interpolate_segment</span><span class="p">(</span>
            <span class="n">segment_match</span><span class="p">,</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="n">extensions_interpolation</span>
        <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Looking for overlapping segments&quot;</span><span class="p">)</span>
    <span class="n">segment_overlaps</span> <span class="o">=</span> <span class="n">get_segment_overlap</span><span class="p">(</span>
        <span class="n">segment_self</span><span class="p">,</span>
        <span class="n">segment_match</span><span class="p">,</span>
        <span class="n">width</span><span class="p">,</span>
        <span class="n">max_queue_normalize</span><span class="p">,</span>
        <span class="n">merge_subsegments</span><span class="p">,</span>
        <span class="n">overlap_threshold</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">matched_tracks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Track</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">overlap</span> <span class="ow">in</span> <span class="n">segment_overlaps</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Found: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">overlap</span><span class="p">)</span>
        <span class="n">matched_segment</span> <span class="o">=</span> <span class="n">GPXTrackSegment</span><span class="p">()</span>
        <span class="c1"># TODO: Might need to go up to overlap.end_idx + 1?</span>
        <span class="n">matched_segment</span><span class="o">.</span><span class="n">points</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span><span class="o">.</span><span class="n">points</span><span class="p">[</span>
            <span class="n">overlap</span><span class="o">.</span><span class="n">start_idx</span> <span class="p">:</span> <span class="n">overlap</span><span class="o">.</span><span class="n">end_idx</span>
        <span class="p">]</span>
        <span class="n">matched_tracks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">(</span>
                <span class="n">SegmentTrack</span><span class="p">(</span>
                    <span class="n">matched_segment</span><span class="p">,</span>
                    <span class="n">stopped_speed_threshold</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stopped_speed_threshold</span><span class="p">,</span>
                    <span class="n">max_speed_percentile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_speed_percentile</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">overlap</span><span class="o">.</span><span class="n">overlap</span><span class="p">,</span>
                <span class="n">overlap</span><span class="o">.</span><span class="n">inverse</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">matched_tracks</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.ByteTrack.get_avg_pp_distance" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_avg_pp_distance</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get average distance between points in the track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the average, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Average distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_avg_pp_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get average distance between points in the track.</span>

<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        average, defaults to 10</span>

<span class="sd">    :return: Average distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance</span><span class="p">(</span><span class="s2">&quot;average&quot;</span><span class="p">,</span> <span class="n">threshold</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.ByteTrack.get_avg_pp_distance_in_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_avg_pp_distance_in_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get average distance between points in the segment with index n_segment.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement to process, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the average, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Average distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_avg_pp_distance_in_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get average distance between points in the segment with index n_segment.</span>

<span class="sd">    :param n_segment: Index of the segement to process, defaults to 0</span>
<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        average, defaults to 10</span>

<span class="sd">    :return: Average distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance_in_segment</span><span class="p">(</span>
        <span class="s2">&quot;average&quot;</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">,</span> <span class="n">threshold</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.ByteTrack.get_closest_point" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_closest_point</span><span class="p">(</span><span class="n">n_segment</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get closest point in a segment to the passed latitude and longitude</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segment</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>latitude</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Latitude to check</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>longitude</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Longitude to check</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="geo_track_analyzer.model.PointDistance" href="../api_model/#geo_track_analyzer.model.PointDistance">PointDistance</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tuple containg the point as GPXTrackPoint, the distance from the passed coordinates and the index in the segment</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_closest_point</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">latitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">longitude</span><span class="p">:</span> <span class="nb">float</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PointDistance</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get closest point in a segment to the passed latitude and longitude</span>

<span class="sd">    :param n_segment: Index of the segment</span>
<span class="sd">    :param latitude: Latitude to check</span>
<span class="sd">    :param longitude: Longitude to check</span>

<span class="sd">    :return: Tuple containg the point as GPXTrackPoint, the distance from</span>
<span class="sd">        the passed coordinates and the index in the segment</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_point_distance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.ByteTrack.get_max_pp_distance" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_max_pp_distance</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get maximum distance between points in the track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the maximum, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_max_pp_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get maximum distance between points in the track.</span>

<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        maximum, defaults to 10</span>

<span class="sd">    :return: Maximum distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance</span><span class="p">(</span><span class="s2">&quot;max&quot;</span><span class="p">,</span> <span class="n">threshold</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.ByteTrack.get_max_pp_distance_in_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_max_pp_distance_in_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get maximum distance between points in the segment with index n_segment.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement to process, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the maximum, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_max_pp_distance_in_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get maximum distance between points in the segment with index n_segment.</span>

<span class="sd">    :param n_segment: Index of the segement to process, defaults to 0</span>
<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        maximum, defaults to 10</span>

<span class="sd">    :return: Maximum distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance_in_segment</span><span class="p">(</span><span class="s2">&quot;max&quot;</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">,</span> <span class="n">threshold</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.ByteTrack.get_point_data_in_segmnet" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_point_data_in_segmnet</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get raw coordinates (latitude, longitude), times and elevations for the
segement with the passed index.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>tuple[list[tuple[float, float]], None | list[float], None | list[<span title="datetime.datetime">datetime</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>tuple with coordinates (latitude, longitude), times and elevations</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_point_data_in_segmnet</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">datetime</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get raw coordinates (latitude, longitude), times and elevations for the</span>
<span class="sd">    segement with the passed index.</span>

<span class="sd">    :param n_segment: Index of the segement, defaults to 0</span>

<span class="sd">    :return: tuple with coordinates (latitude, longitude), times and elevations</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">coords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">elevations</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">times</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span><span class="o">.</span><span class="n">points</span><span class="p">:</span>
        <span class="n">coords</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">point</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span> <span class="n">point</span><span class="o">.</span><span class="n">longitude</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">point</span><span class="o">.</span><span class="n">elevation</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">elevations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">elevation</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">point</span><span class="o">.</span><span class="n">time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">elevations</span><span class="p">:</span>
        <span class="n">elevations</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">elevations</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">TrackTransformationError</span><span class="p">(</span>
            <span class="s2">&quot;Elevation is not set for all points. This is not supported&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">times</span><span class="p">:</span>
        <span class="n">times</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">times</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">TrackTransformationError</span><span class="p">(</span>
            <span class="s2">&quot;Elevation is not set for all points. This is not supported&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">coords</span><span class="p">,</span> <span class="n">elevations</span><span class="p">,</span> <span class="n">times</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.ByteTrack.get_segment_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_segment_data</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get processed data for the segmeent with passed index as DataFrame</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame with segmenet data</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_segment_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get processed data for the segmeent with passed index as DataFrame</span>

<span class="sd">    :param n_segment: Index of the segement, defaults to 0</span>

<span class="sd">    :return: DataFrame with segmenet data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_segment_data</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.ByteTrack.get_segment_overview" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_segment_overview</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get overall metrics for a segment</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segment the overview should be generated for, default to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="geo_track_analyzer.model.SegmentOverview" href="../api_model/#geo_track_analyzer.model.SegmentOverview">SegmentOverview</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A SegmentOverview object containing the metrics moving time and distance, total time and distance, maximum and average speed and elevation and cummulated uphill, downholl elevation</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_segment_overview</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SegmentOverview</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get overall metrics for a segment</span>

<span class="sd">    :param n_segment: Index of the segment the overview should be generated for,</span>
<span class="sd">        default to 0</span>

<span class="sd">    :returns: A SegmentOverview object containing the metrics moving time and</span>
<span class="sd">        distance, total time and distance, maximum and average speed and elevation</span>
<span class="sd">        and cummulated uphill, downholl elevation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="p">(</span>
        <span class="n">time</span><span class="p">,</span>
        <span class="n">distance</span><span class="p">,</span>
        <span class="n">stopped_time</span><span class="p">,</span>
        <span class="n">stopped_distance</span><span class="p">,</span>
        <span class="n">data</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_segment_data</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>

    <span class="n">max_speed</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">avg_speed</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span><span class="o">.</span><span class="n">has_times</span><span class="p">():</span>
        <span class="n">max_speed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">avg_speed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_segment_overview</span><span class="p">(</span>
        <span class="n">time</span><span class="o">=</span><span class="n">time</span><span class="p">,</span>
        <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span>
        <span class="n">stopped_time</span><span class="o">=</span><span class="n">stopped_time</span><span class="p">,</span>
        <span class="n">stopped_distance</span><span class="o">=</span><span class="n">stopped_distance</span><span class="p">,</span>
        <span class="n">max_speed</span><span class="o">=</span><span class="n">max_speed</span><span class="p">,</span>
        <span class="n">avg_speed</span><span class="o">=</span><span class="n">avg_speed</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.ByteTrack.get_track_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_track_data</span><span class="p">(</span><span class="n">connect_segments</span><span class="o">=</span><span class="s1">&#39;forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get processed data for the track as DataFrame. Segment are indicated
via the segment column.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame with track data</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_track_data</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">connect_segments</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;full&quot;</span><span class="p">,</span> <span class="s2">&quot;forward&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;forward&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get processed data for the track as DataFrame. Segment are indicated</span>
<span class="sd">    via the segment column.</span>

<span class="sd">    :return: DataFrame with track data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">track_data</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">track_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_track_data</span><span class="p">(</span>
        <span class="n">connect_segments</span><span class="o">=</span><span class="n">connect_segments</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">track_data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.ByteTrack.get_track_overview" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_track_overview</span><span class="p">(</span><span class="n">connect_segments</span><span class="o">=</span><span class="s1">&#39;forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get overall metrics for the track. Equivalent to the sum of all segments</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="geo_track_analyzer.model.SegmentOverview" href="../api_model/#geo_track_analyzer.model.SegmentOverview">SegmentOverview</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A SegmentOverview object containing the metrics</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_track_overview</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">connect_segments</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;full&quot;</span><span class="p">,</span> <span class="s2">&quot;forward&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;forward&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SegmentOverview</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get overall metrics for the track. Equivalent to the sum of all segments</span>

<span class="sd">    :return: A SegmentOverview object containing the metrics</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="p">(</span>
        <span class="n">track_time</span><span class="p">,</span>
        <span class="n">track_distance</span><span class="p">,</span>
        <span class="n">track_stopped_time</span><span class="p">,</span>
        <span class="n">track_stopped_distance</span><span class="p">,</span>
        <span class="n">track_data</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_track_data</span><span class="p">(</span><span class="n">connect_segments</span><span class="o">=</span><span class="n">connect_segments</span><span class="p">)</span>

    <span class="n">track_max_speed</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">track_avg_speed</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">seg</span><span class="o">.</span><span class="n">has_times</span><span class="p">()</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">):</span>
        <span class="n">track_max_speed</span> <span class="o">=</span> <span class="n">track_data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">track_data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">track_avg_speed</span> <span class="o">=</span> <span class="n">track_data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">track_data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_segment_overview</span><span class="p">(</span>
        <span class="n">time</span><span class="o">=</span><span class="n">track_time</span><span class="p">,</span>
        <span class="n">distance</span><span class="o">=</span><span class="n">track_distance</span><span class="p">,</span>
        <span class="n">stopped_time</span><span class="o">=</span><span class="n">track_stopped_time</span><span class="p">,</span>
        <span class="n">stopped_distance</span><span class="o">=</span><span class="n">track_stopped_distance</span><span class="p">,</span>
        <span class="n">max_speed</span><span class="o">=</span><span class="n">track_max_speed</span><span class="p">,</span>
        <span class="n">avg_speed</span><span class="o">=</span><span class="n">track_avg_speed</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">track_data</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.ByteTrack.get_xml" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_xml</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get track as .gpx file data</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>None | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional author name to be added to gpx file, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>email</code></td>
          <td>
                <code>None | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional auther e-mail address to be added to the gpx file, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Content of a gpx file</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span>
<span class="normal">99</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">email</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get track as .gpx file data</span>

<span class="sd">    :param name: Optional author name to be added to gpx file, defaults to None</span>
<span class="sd">    :param email: Optional auther e-mail address to be added to the gpx file,</span>
<span class="sd">        defaults to None</span>

<span class="sd">    :return: Content of a gpx file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">gpx</span> <span class="o">=</span> <span class="n">GPX</span><span class="p">()</span>

    <span class="n">gpx</span><span class="o">.</span><span class="n">tracks</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="p">]</span>
    <span class="n">gpx</span><span class="o">.</span><span class="n">author_name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="n">gpx</span><span class="o">.</span><span class="n">author_email</span> <span class="o">=</span> <span class="n">email</span>

    <span class="k">return</span> <span class="n">gpx</span><span class="o">.</span><span class="n">to_xml</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.ByteTrack.interpolate_points_in_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">interpolate_points_in_segment</span><span class="p">(</span><span class="n">spacing</span><span class="p">,</span> <span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="s1">&#39;copy_forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Add additdion points to a segment by interpolating along the direct line
between each point pair according to the passed spacing parameter. If present,
elevation and time will be linearly interpolated. Extensions (Heartrate,
Cadence, Power) will be interpolated according to value of copy_extensions.
Optionas are:</p>
<ul>
<li>copy the value from the start point of the interpolation (copy-forward)</li>
<li>Use value of start point for first half and last point for second half
  (meet-center)</li>
<li>Linear interpolation (linear)</li>
</ul>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>spacing</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points added by the interpolation</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>segment in the track to use, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>copy_extension</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>How should the extenstion (if present) be defined in the interpolated points.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">interpolate_points_in_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">spacing</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">copy_extensions</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
        <span class="s2">&quot;copy-forward&quot;</span><span class="p">,</span> <span class="s2">&quot;meet-center&quot;</span><span class="p">,</span> <span class="s2">&quot;linear&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;copy_forward&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add additdion points to a segment by interpolating along the direct line</span>
<span class="sd">    between each point pair according to the passed spacing parameter. If present,</span>
<span class="sd">    elevation and time will be linearly interpolated. Extensions (Heartrate,</span>
<span class="sd">    Cadence, Power) will be interpolated according to value of copy_extensions.</span>
<span class="sd">    Optionas are:</span>

<span class="sd">    - copy the value from the start point of the interpolation (copy-forward)</span>
<span class="sd">    - Use value of start point for first half and last point for second half</span>
<span class="sd">      (meet-center)</span>
<span class="sd">    - Linear interpolation (linear)</span>


<span class="sd">    :param spacing: Minimum distance between points added by the interpolation</span>
<span class="sd">    :param n_segment: segment in the track to use, defaults to 0</span>
<span class="sd">    :param copy_extension: How should the extenstion (if present) be defined in the</span>
<span class="sd">        interpolated points.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span> <span class="o">=</span> <span class="n">interpolate_segment</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">],</span> <span class="n">spacing</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="n">copy_extensions</span>
    <span class="p">)</span>

    <span class="c1"># Reset saved processed data</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_processed_track_data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_processed_track_data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n_segment</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_processed_segment_data</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Deleting saved processed segment data for segment </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">n_segment</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_processed_segment_data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.ByteTrack.plot" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">segment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">reduce_pp_intervals</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Visualize the full track or a single segment.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>kind</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;profile&#39;, &#39;profile-slope&#39;, &#39;map-line&#39;, &#39;map-line-enhanced&#39;, &#39;map-segments&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Kind of plot to be generated  - profile: Elevation profile of the track. May be enhanced with additional information like Velocity, Heartrate, Cadence, and Power. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_2d</code> - profile-slope: Elevation profile with slopes between points. Use the reduce_pp_intervals argument to reduce the number of slope intervals. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_with_slope</code> - map-line: Visualize coordinates on the map. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_line_on_map</code> - map-line-enhanced: Visualize coordinates on the map. Enhance with additional information like Elevation, Velocity, Heartrate, Cadence, and Power. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_enriched_on_map</code> - map-segments: Visualize coordinates on the map split into segments. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_segments_on_map</code></p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>segment</code></td>
          <td>
                <code>None | int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Select a specific segment, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>reduce_pp_intervals</code></td>
          <td>
                <code>None | int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optionally pass a distance in m which is used to reduce the points in a track, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="plotly.graph_objs.graph_objs.Figure">Figure</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Figure (plotly)</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>VisualizationSetupError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the plot prequisites are not met</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">kind</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
        <span class="s2">&quot;profile&quot;</span><span class="p">,</span> <span class="s2">&quot;profile-slope&quot;</span><span class="p">,</span> <span class="s2">&quot;map-line&quot;</span><span class="p">,</span> <span class="s2">&quot;map-line-enhanced&quot;</span><span class="p">,</span> <span class="s2">&quot;map-segments&quot;</span>
    <span class="p">],</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">segment</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">reduce_pp_intervals</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Figure</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Visualize the full track or a single segment.</span>

<span class="sd">    :param kind: Kind of plot to be generated</span>

<span class="sd">        - profile: Elevation profile of the track. May be enhanced with additional</span>
<span class="sd">          information like Velocity, Heartrate, Cadence, and Power. Pass keyword</span>
<span class="sd">          args for :func:`~geo_track_analyzer.visualize.plot_track_2d`</span>
<span class="sd">        - profile-slope: Elevation profile with slopes between points. Use the</span>
<span class="sd">          reduce_pp_intervals argument to reduce the number of slope intervals.</span>
<span class="sd">          Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_track_with_slope`</span>
<span class="sd">        - map-line: Visualize coordinates on the map. Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_track_line_on_map`</span>
<span class="sd">        - map-line-enhanced: Visualize coordinates on the map. Enhance with</span>
<span class="sd">          additional information like Elevation, Velocity, Heartrate, Cadence, and</span>
<span class="sd">          Power. Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_track_enriched_on_map`</span>
<span class="sd">        - map-segments: Visualize coordinates on the map split into segments.</span>
<span class="sd">          Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_segments_on_map`</span>
<span class="sd">    :param segment: Select a specific segment, defaults to None</span>
<span class="sd">    :param reduce_pp_intervals: Optionally pass a distance in m which is used to</span>
<span class="sd">        reduce the points in a track, defaults to None</span>
<span class="sd">    :raises VisualizationSetupError: If the plot prequisites are not met</span>

<span class="sd">    :return: Figure (plotly)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">valid_kinds</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;profile&quot;</span><span class="p">,</span>
        <span class="s2">&quot;profile-slope&quot;</span><span class="p">,</span>
        <span class="s2">&quot;map-line&quot;</span><span class="p">,</span>
        <span class="s2">&quot;map-line-enhanced&quot;</span><span class="p">,</span>
        <span class="s2">&quot;map-segments&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="n">require_elevation</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;profile&quot;</span><span class="p">,</span> <span class="s2">&quot;profile-slope&quot;</span><span class="p">]</span>
    <span class="n">connect_segment_full</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;map-segments&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">kind</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_kinds</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">VisualizationSetupError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Kind </span><span class="si">{</span><span class="n">kind</span><span class="si">}</span><span class="s2"> is not valid. Pass on of </span><span class="si">{</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">valid_kinds</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">segment</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">geo_track_analyzer.utils.track</span> <span class="kn">import</span> <span class="n">extract_track_data_for_plot</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">extract_track_data_for_plot</span><span class="p">(</span>
            <span class="n">track</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span>
            <span class="n">require_elevation</span><span class="o">=</span><span class="n">require_elevation</span><span class="p">,</span>
            <span class="n">intervals</span><span class="o">=</span><span class="n">reduce_pp_intervals</span><span class="p">,</span>
            <span class="n">connect_segments</span><span class="o">=</span><span class="s2">&quot;full&quot;</span> <span class="k">if</span> <span class="n">kind</span> <span class="ow">in</span> <span class="n">connect_segment_full</span> <span class="k">else</span> <span class="s2">&quot;forward&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">geo_track_analyzer.utils.track</span> <span class="kn">import</span> <span class="n">extract_segment_data_for_plot</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">extract_segment_data_for_plot</span><span class="p">(</span>
            <span class="n">track</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">segment</span><span class="o">=</span><span class="n">segment</span><span class="p">,</span>
            <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span>
            <span class="n">require_elevation</span><span class="o">=</span><span class="n">require_elevation</span><span class="p">,</span>
            <span class="n">intervals</span><span class="o">=</span><span class="n">reduce_pp_intervals</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">fig</span><span class="p">:</span> <span class="n">Figure</span>
    <span class="k">if</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;profile&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_2d</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;profile-slope&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_with_slope</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;map-line&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_line_on_map</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;map-line-enhanced&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_enriched_on_map</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_segments_on_map</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fig</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.ByteTrack.split" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">split</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="n">distance_threshold</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Split the track at the passed coordinates. The distance_threshold parameter
defines the maximum distance between the passed coordingates and the closest
point in the track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>coords</code></td>
          <td>
                <code>tuple[float, float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Latitude, Longitude point at which the split should be made</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>distance_threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance between coords and closest point, defaults to 20</p>
            </div>
          </td>
          <td>
                <code>20</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>TrackTransformationError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If distance exceeds threshold</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">split</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="n">distance_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">20</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Split the track at the passed coordinates. The distance_threshold parameter</span>
<span class="sd">    defines the maximum distance between the passed coordingates and the closest</span>
<span class="sd">    point in the track.</span>

<span class="sd">    :param coords: Latitude, Longitude point at which the split should be made</span>
<span class="sd">    :param distance_threshold: Maximum distance between coords and closest point,</span>
<span class="sd">        defaults to 20</span>

<span class="sd">    :raises TrackTransformationError: If distance exceeds threshold</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lat</span><span class="p">,</span> <span class="n">long</span> <span class="o">=</span> <span class="n">coords</span>
    <span class="n">point_distance</span> <span class="o">=</span> <span class="n">get_point_distance</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=</span><span class="n">lat</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="n">long</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">point_distance</span><span class="o">.</span><span class="n">distance</span> <span class="o">&gt;</span> <span class="n">distance_threshold</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">TrackTransformationError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Closes point in track has distance </span><span class="si">{</span><span class="n">point_distance</span><span class="o">.</span><span class="n">distance</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">m &quot;</span>
            <span class="s2">&quot;from passed coordingates&quot;</span>
        <span class="p">)</span>
    <span class="c1"># Split the segment. The closest point should be the first</span>
    <span class="c1"># point of the second segment</span>
    <span class="n">pre_segment</span><span class="p">,</span> <span class="n">post_segment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span>
        <span class="n">point_distance</span><span class="o">.</span><span class="n">segment_idx</span>
    <span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">point_distance</span><span class="o">.</span><span class="n">segment_point_idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">point_distance</span><span class="o">.</span><span class="n">segment_idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">pre_segment</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">point_distance</span><span class="o">.</span><span class="n">segment_idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">post_segment</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_processed_segment_data</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_processed_track_data</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h2 id="geo_track_analyzer.track.PyTrack" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code class="highlight language-python"><span class="n">PyTrack</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">elevations</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="n">heartrate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cadence</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">power</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stopped_speed_threshold</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_speed_percentile</span><span class="o">=</span><span class="mi">95</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><span title="geo_track_analyzer.track.Track">Track</span></code></p>

  
      <p>Track that should be initialized from python objects</p>
  
      <p>A geospacial data track initialized from python objects</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>points</code></td>
          <td>
                <code>list[tuple[float, float]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of Latitude/Longitude tuples</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>elevations</code></td>
          <td>
                <code>None | list[float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional list of elevation for each point</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>times</code></td>
          <td>
                <code>None | list[<span title="datetime.datetime">datetime</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional list of times for each point</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>heartrate</code></td>
          <td>
                <code>None | list[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional list of heartrate values for each point</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>cadence</code></td>
          <td>
                <code>None | list[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional list of cadence values for each point</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>power</code></td>
          <td>
                <code>None | list[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional list of power values for each point</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>stopped_speed_threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minium speed required for a point to be count as moving, defaults to 1</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>max_speed_percentile</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Points with speed outside of the percentile are not counted when analyzing the track, defaults to 95</p>
            </div>
          </td>
          <td>
                <code>95</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>TrackInitializationError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Raised if number of elevation, time, heatrate, or cadence values do not match passed points</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

                <details class="quote">
                  <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
                  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">points</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span>
    <span class="n">elevations</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
    <span class="n">times</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">datetime</span><span class="p">],</span>
    <span class="n">heartrate</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">cadence</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">power</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">stopped_speed_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">max_speed_percentile</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">95</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A geospacial data track initialized from python objects</span>

<span class="sd">    :param points: List of Latitude/Longitude tuples</span>
<span class="sd">    :param elevations: Optional list of elevation for each point</span>
<span class="sd">    :param times: Optional list of times for each point</span>
<span class="sd">    :param heartrate: Optional list of heartrate values for each point</span>
<span class="sd">    :param cadence: Optional list of cadence values for each point</span>
<span class="sd">    :param power: Optional list of power values for each point</span>
<span class="sd">    :param stopped_speed_threshold: Minium speed required for a point to be count</span>
<span class="sd">        as moving, defaults to 1</span>
<span class="sd">    :param max_speed_percentile: Points with speed outside of the percentile are not</span>
<span class="sd">        counted when analyzing the track, defaults to 95</span>
<span class="sd">    :raises TrackInitializationError: Raised if number of elevation, time, heatrate,</span>
<span class="sd">        or cadence values do not match passed points</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
        <span class="n">stopped_speed_threshold</span><span class="o">=</span><span class="n">stopped_speed_threshold</span><span class="p">,</span>
        <span class="n">max_speed_percentile</span><span class="o">=</span><span class="n">max_speed_percentile</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">gpx</span> <span class="o">=</span> <span class="n">GPX</span><span class="p">()</span>

    <span class="n">gpx_track</span> <span class="o">=</span> <span class="n">GPXTrack</span><span class="p">()</span>
    <span class="n">gpx</span><span class="o">.</span><span class="n">tracks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gpx_track</span><span class="p">)</span>

    <span class="n">gpx_segment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_segmeent</span><span class="p">(</span>
        <span class="n">points</span><span class="o">=</span><span class="n">points</span><span class="p">,</span>
        <span class="n">elevations</span><span class="o">=</span><span class="n">elevations</span><span class="p">,</span>
        <span class="n">times</span><span class="o">=</span><span class="n">times</span><span class="p">,</span>
        <span class="n">heartrate</span><span class="o">=</span><span class="n">heartrate</span><span class="p">,</span>
        <span class="n">cadence</span><span class="o">=</span><span class="n">cadence</span><span class="p">,</span>
        <span class="n">power</span><span class="o">=</span><span class="n">power</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">gpx_track</span><span class="o">.</span><span class="n">segments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gpx_segment</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_track</span> <span class="o">=</span> <span class="n">gpx</span><span class="o">.</span><span class="n">tracks</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
                </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.PyTrack.find_overlap_with_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">find_overlap_with_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="p">,</span> <span class="n">match_track</span><span class="p">,</span> <span class="n">match_track_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">overlap_threshold</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">max_queue_normalize</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">merge_subsegments</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">extensions_interpolation</span><span class="o">=</span><span class="s1">&#39;copy_forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Find overlap of a segment of the track with a segment in another track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Segment in the track that sould be used as base for the comparison</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>match_track</code></td>
          <td>
                <code><span title="geo_track_analyzer.track.Track">Track</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Track object containing the segment to be matched</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>match_track_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Segment on the passed track that should be matched to the segment in this track, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>width</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Width (in meters) of the grid that will be filled to estimate the overalp , defaults to 50</p>
            </div>
          </td>
          <td>
                <code>50</code>
          </td>
        </tr>
        <tr>
          <td><code>overlap_threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum overlap (as fracrtion) required to return the overlap data, defaults to 0.75</p>
            </div>
          </td>
          <td>
                <code>0.75</code>
          </td>
        </tr>
        <tr>
          <td><code>max_queue_normalize</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum number of successive points in the segment between two points falling into same plate bin, defaults to 5</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>merge_subsegments</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of points between sub segments allowed for merging the segments, defaults to 5</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>extensions_interpolation</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;copy-forward&#39;, &#39;meet-center&#39;, &#39;linear&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>How should the extenstion (if present) be defined in the interpolated points, defaults to copy-forward</p>
            </div>
          </td>
          <td>
                <code>&#39;copy_forward&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Sequence">Sequence</span>[tuple[<span title="geo_track_analyzer.track.Track">Track</span>, float, bool]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tuple containing a Track with the overlapping points, the overlap in percent, and the direction of the overlap</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">find_overlap_with_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">match_track</span><span class="p">:</span> <span class="n">Track</span><span class="p">,</span>
    <span class="n">match_track_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
    <span class="n">overlap_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.75</span><span class="p">,</span>
    <span class="n">max_queue_normalize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">merge_subsegments</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">extensions_interpolation</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
        <span class="s2">&quot;copy-forward&quot;</span><span class="p">,</span> <span class="s2">&quot;meet-center&quot;</span><span class="p">,</span> <span class="s2">&quot;linear&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;copy_forward&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Track</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find overlap of a segment of the track with a segment in another track.</span>

<span class="sd">    :param n_segment: Segment in the track that sould be used as base for the</span>
<span class="sd">        comparison</span>
<span class="sd">    :param match_track: Track object containing the segment to be matched</span>
<span class="sd">    :param match_track_segment: Segment on the passed track that should be matched</span>
<span class="sd">        to the segment in this track, defaults to 0</span>
<span class="sd">    :param width: Width (in meters) of the grid that will be filled to estimate</span>
<span class="sd">        the overalp , defaults to 50</span>
<span class="sd">    :param overlap_threshold: Minimum overlap (as fracrtion) required to return the</span>
<span class="sd">        overlap data, defaults to 0.75</span>
<span class="sd">    :param max_queue_normalize: Minimum number of successive points in the segment</span>
<span class="sd">        between two points falling into same plate bin, defaults to 5</span>
<span class="sd">    :param merge_subsegments: Number of points between sub segments allowed</span>
<span class="sd">        for merging the segments, defaults to 5</span>
<span class="sd">    :param extensions_interpolation: How should the extenstion (if present) be</span>
<span class="sd">        defined in the interpolated points, defaults to copy-forward</span>

<span class="sd">    :return: Tuple containing a Track with the overlapping points, the overlap in</span>
<span class="sd">        percent, and the direction of the overlap</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">max_distance_self</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_max_pp_distance_in_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>

    <span class="n">segment_self</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">max_distance_self</span> <span class="o">&gt;</span> <span class="n">width</span><span class="p">:</span>
        <span class="n">segment_self</span> <span class="o">=</span> <span class="n">interpolate_segment</span><span class="p">(</span>
            <span class="n">segment_self</span><span class="p">,</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="n">extensions_interpolation</span>
        <span class="p">)</span>

    <span class="n">max_distance_match</span> <span class="o">=</span> <span class="n">match_track</span><span class="o">.</span><span class="n">get_max_pp_distance_in_segment</span><span class="p">(</span>
        <span class="n">match_track_segment</span>
    <span class="p">)</span>
    <span class="n">segment_match</span> <span class="o">=</span> <span class="n">match_track</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">match_track_segment</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">max_distance_match</span> <span class="o">&gt;</span> <span class="n">width</span><span class="p">:</span>
        <span class="n">segment_match</span> <span class="o">=</span> <span class="n">interpolate_segment</span><span class="p">(</span>
            <span class="n">segment_match</span><span class="p">,</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="n">extensions_interpolation</span>
        <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Looking for overlapping segments&quot;</span><span class="p">)</span>
    <span class="n">segment_overlaps</span> <span class="o">=</span> <span class="n">get_segment_overlap</span><span class="p">(</span>
        <span class="n">segment_self</span><span class="p">,</span>
        <span class="n">segment_match</span><span class="p">,</span>
        <span class="n">width</span><span class="p">,</span>
        <span class="n">max_queue_normalize</span><span class="p">,</span>
        <span class="n">merge_subsegments</span><span class="p">,</span>
        <span class="n">overlap_threshold</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">matched_tracks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Track</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">overlap</span> <span class="ow">in</span> <span class="n">segment_overlaps</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Found: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">overlap</span><span class="p">)</span>
        <span class="n">matched_segment</span> <span class="o">=</span> <span class="n">GPXTrackSegment</span><span class="p">()</span>
        <span class="c1"># TODO: Might need to go up to overlap.end_idx + 1?</span>
        <span class="n">matched_segment</span><span class="o">.</span><span class="n">points</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span><span class="o">.</span><span class="n">points</span><span class="p">[</span>
            <span class="n">overlap</span><span class="o">.</span><span class="n">start_idx</span> <span class="p">:</span> <span class="n">overlap</span><span class="o">.</span><span class="n">end_idx</span>
        <span class="p">]</span>
        <span class="n">matched_tracks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">(</span>
                <span class="n">SegmentTrack</span><span class="p">(</span>
                    <span class="n">matched_segment</span><span class="p">,</span>
                    <span class="n">stopped_speed_threshold</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stopped_speed_threshold</span><span class="p">,</span>
                    <span class="n">max_speed_percentile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_speed_percentile</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">overlap</span><span class="o">.</span><span class="n">overlap</span><span class="p">,</span>
                <span class="n">overlap</span><span class="o">.</span><span class="n">inverse</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">matched_tracks</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.PyTrack.get_avg_pp_distance" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_avg_pp_distance</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get average distance between points in the track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the average, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Average distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_avg_pp_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get average distance between points in the track.</span>

<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        average, defaults to 10</span>

<span class="sd">    :return: Average distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance</span><span class="p">(</span><span class="s2">&quot;average&quot;</span><span class="p">,</span> <span class="n">threshold</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.PyTrack.get_avg_pp_distance_in_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_avg_pp_distance_in_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get average distance between points in the segment with index n_segment.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement to process, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the average, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Average distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_avg_pp_distance_in_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get average distance between points in the segment with index n_segment.</span>

<span class="sd">    :param n_segment: Index of the segement to process, defaults to 0</span>
<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        average, defaults to 10</span>

<span class="sd">    :return: Average distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance_in_segment</span><span class="p">(</span>
        <span class="s2">&quot;average&quot;</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">,</span> <span class="n">threshold</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.PyTrack.get_closest_point" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_closest_point</span><span class="p">(</span><span class="n">n_segment</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get closest point in a segment to the passed latitude and longitude</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segment</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>latitude</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Latitude to check</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>longitude</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Longitude to check</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="geo_track_analyzer.model.PointDistance" href="../api_model/#geo_track_analyzer.model.PointDistance">PointDistance</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tuple containg the point as GPXTrackPoint, the distance from the passed coordinates and the index in the segment</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_closest_point</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">latitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">longitude</span><span class="p">:</span> <span class="nb">float</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PointDistance</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get closest point in a segment to the passed latitude and longitude</span>

<span class="sd">    :param n_segment: Index of the segment</span>
<span class="sd">    :param latitude: Latitude to check</span>
<span class="sd">    :param longitude: Longitude to check</span>

<span class="sd">    :return: Tuple containg the point as GPXTrackPoint, the distance from</span>
<span class="sd">        the passed coordinates and the index in the segment</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_point_distance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.PyTrack.get_max_pp_distance" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_max_pp_distance</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get maximum distance between points in the track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the maximum, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_max_pp_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get maximum distance between points in the track.</span>

<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        maximum, defaults to 10</span>

<span class="sd">    :return: Maximum distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance</span><span class="p">(</span><span class="s2">&quot;max&quot;</span><span class="p">,</span> <span class="n">threshold</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.PyTrack.get_max_pp_distance_in_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_max_pp_distance_in_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get maximum distance between points in the segment with index n_segment.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement to process, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the maximum, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_max_pp_distance_in_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get maximum distance between points in the segment with index n_segment.</span>

<span class="sd">    :param n_segment: Index of the segement to process, defaults to 0</span>
<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        maximum, defaults to 10</span>

<span class="sd">    :return: Maximum distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance_in_segment</span><span class="p">(</span><span class="s2">&quot;max&quot;</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">,</span> <span class="n">threshold</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.PyTrack.get_point_data_in_segmnet" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_point_data_in_segmnet</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get raw coordinates (latitude, longitude), times and elevations for the
segement with the passed index.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>tuple[list[tuple[float, float]], None | list[float], None | list[<span title="datetime.datetime">datetime</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>tuple with coordinates (latitude, longitude), times and elevations</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_point_data_in_segmnet</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">datetime</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get raw coordinates (latitude, longitude), times and elevations for the</span>
<span class="sd">    segement with the passed index.</span>

<span class="sd">    :param n_segment: Index of the segement, defaults to 0</span>

<span class="sd">    :return: tuple with coordinates (latitude, longitude), times and elevations</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">coords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">elevations</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">times</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span><span class="o">.</span><span class="n">points</span><span class="p">:</span>
        <span class="n">coords</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">point</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span> <span class="n">point</span><span class="o">.</span><span class="n">longitude</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">point</span><span class="o">.</span><span class="n">elevation</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">elevations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">elevation</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">point</span><span class="o">.</span><span class="n">time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">elevations</span><span class="p">:</span>
        <span class="n">elevations</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">elevations</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">TrackTransformationError</span><span class="p">(</span>
            <span class="s2">&quot;Elevation is not set for all points. This is not supported&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">times</span><span class="p">:</span>
        <span class="n">times</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">times</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">TrackTransformationError</span><span class="p">(</span>
            <span class="s2">&quot;Elevation is not set for all points. This is not supported&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">coords</span><span class="p">,</span> <span class="n">elevations</span><span class="p">,</span> <span class="n">times</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.PyTrack.get_segment_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_segment_data</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get processed data for the segmeent with passed index as DataFrame</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame with segmenet data</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_segment_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get processed data for the segmeent with passed index as DataFrame</span>

<span class="sd">    :param n_segment: Index of the segement, defaults to 0</span>

<span class="sd">    :return: DataFrame with segmenet data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_segment_data</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.PyTrack.get_segment_overview" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_segment_overview</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get overall metrics for a segment</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segment the overview should be generated for, default to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="geo_track_analyzer.model.SegmentOverview" href="../api_model/#geo_track_analyzer.model.SegmentOverview">SegmentOverview</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A SegmentOverview object containing the metrics moving time and distance, total time and distance, maximum and average speed and elevation and cummulated uphill, downholl elevation</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_segment_overview</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SegmentOverview</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get overall metrics for a segment</span>

<span class="sd">    :param n_segment: Index of the segment the overview should be generated for,</span>
<span class="sd">        default to 0</span>

<span class="sd">    :returns: A SegmentOverview object containing the metrics moving time and</span>
<span class="sd">        distance, total time and distance, maximum and average speed and elevation</span>
<span class="sd">        and cummulated uphill, downholl elevation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="p">(</span>
        <span class="n">time</span><span class="p">,</span>
        <span class="n">distance</span><span class="p">,</span>
        <span class="n">stopped_time</span><span class="p">,</span>
        <span class="n">stopped_distance</span><span class="p">,</span>
        <span class="n">data</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_segment_data</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>

    <span class="n">max_speed</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">avg_speed</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span><span class="o">.</span><span class="n">has_times</span><span class="p">():</span>
        <span class="n">max_speed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">avg_speed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_segment_overview</span><span class="p">(</span>
        <span class="n">time</span><span class="o">=</span><span class="n">time</span><span class="p">,</span>
        <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span>
        <span class="n">stopped_time</span><span class="o">=</span><span class="n">stopped_time</span><span class="p">,</span>
        <span class="n">stopped_distance</span><span class="o">=</span><span class="n">stopped_distance</span><span class="p">,</span>
        <span class="n">max_speed</span><span class="o">=</span><span class="n">max_speed</span><span class="p">,</span>
        <span class="n">avg_speed</span><span class="o">=</span><span class="n">avg_speed</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.PyTrack.get_track_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_track_data</span><span class="p">(</span><span class="n">connect_segments</span><span class="o">=</span><span class="s1">&#39;forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get processed data for the track as DataFrame. Segment are indicated
via the segment column.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame with track data</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_track_data</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">connect_segments</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;full&quot;</span><span class="p">,</span> <span class="s2">&quot;forward&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;forward&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get processed data for the track as DataFrame. Segment are indicated</span>
<span class="sd">    via the segment column.</span>

<span class="sd">    :return: DataFrame with track data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">track_data</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">track_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_track_data</span><span class="p">(</span>
        <span class="n">connect_segments</span><span class="o">=</span><span class="n">connect_segments</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">track_data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.PyTrack.get_track_overview" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_track_overview</span><span class="p">(</span><span class="n">connect_segments</span><span class="o">=</span><span class="s1">&#39;forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get overall metrics for the track. Equivalent to the sum of all segments</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="geo_track_analyzer.model.SegmentOverview" href="../api_model/#geo_track_analyzer.model.SegmentOverview">SegmentOverview</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A SegmentOverview object containing the metrics</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_track_overview</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">connect_segments</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;full&quot;</span><span class="p">,</span> <span class="s2">&quot;forward&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;forward&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SegmentOverview</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get overall metrics for the track. Equivalent to the sum of all segments</span>

<span class="sd">    :return: A SegmentOverview object containing the metrics</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="p">(</span>
        <span class="n">track_time</span><span class="p">,</span>
        <span class="n">track_distance</span><span class="p">,</span>
        <span class="n">track_stopped_time</span><span class="p">,</span>
        <span class="n">track_stopped_distance</span><span class="p">,</span>
        <span class="n">track_data</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_track_data</span><span class="p">(</span><span class="n">connect_segments</span><span class="o">=</span><span class="n">connect_segments</span><span class="p">)</span>

    <span class="n">track_max_speed</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">track_avg_speed</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">seg</span><span class="o">.</span><span class="n">has_times</span><span class="p">()</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">):</span>
        <span class="n">track_max_speed</span> <span class="o">=</span> <span class="n">track_data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">track_data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">track_avg_speed</span> <span class="o">=</span> <span class="n">track_data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">track_data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_segment_overview</span><span class="p">(</span>
        <span class="n">time</span><span class="o">=</span><span class="n">track_time</span><span class="p">,</span>
        <span class="n">distance</span><span class="o">=</span><span class="n">track_distance</span><span class="p">,</span>
        <span class="n">stopped_time</span><span class="o">=</span><span class="n">track_stopped_time</span><span class="p">,</span>
        <span class="n">stopped_distance</span><span class="o">=</span><span class="n">track_stopped_distance</span><span class="p">,</span>
        <span class="n">max_speed</span><span class="o">=</span><span class="n">track_max_speed</span><span class="p">,</span>
        <span class="n">avg_speed</span><span class="o">=</span><span class="n">track_avg_speed</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">track_data</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.PyTrack.get_xml" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_xml</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get track as .gpx file data</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>None | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional author name to be added to gpx file, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>email</code></td>
          <td>
                <code>None | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional auther e-mail address to be added to the gpx file, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Content of a gpx file</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span>
<span class="normal">99</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">email</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get track as .gpx file data</span>

<span class="sd">    :param name: Optional author name to be added to gpx file, defaults to None</span>
<span class="sd">    :param email: Optional auther e-mail address to be added to the gpx file,</span>
<span class="sd">        defaults to None</span>

<span class="sd">    :return: Content of a gpx file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">gpx</span> <span class="o">=</span> <span class="n">GPX</span><span class="p">()</span>

    <span class="n">gpx</span><span class="o">.</span><span class="n">tracks</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="p">]</span>
    <span class="n">gpx</span><span class="o">.</span><span class="n">author_name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="n">gpx</span><span class="o">.</span><span class="n">author_email</span> <span class="o">=</span> <span class="n">email</span>

    <span class="k">return</span> <span class="n">gpx</span><span class="o">.</span><span class="n">to_xml</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.PyTrack.interpolate_points_in_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">interpolate_points_in_segment</span><span class="p">(</span><span class="n">spacing</span><span class="p">,</span> <span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="s1">&#39;copy_forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Add additdion points to a segment by interpolating along the direct line
between each point pair according to the passed spacing parameter. If present,
elevation and time will be linearly interpolated. Extensions (Heartrate,
Cadence, Power) will be interpolated according to value of copy_extensions.
Optionas are:</p>
<ul>
<li>copy the value from the start point of the interpolation (copy-forward)</li>
<li>Use value of start point for first half and last point for second half
  (meet-center)</li>
<li>Linear interpolation (linear)</li>
</ul>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>spacing</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points added by the interpolation</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>segment in the track to use, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>copy_extension</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>How should the extenstion (if present) be defined in the interpolated points.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">interpolate_points_in_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">spacing</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">copy_extensions</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
        <span class="s2">&quot;copy-forward&quot;</span><span class="p">,</span> <span class="s2">&quot;meet-center&quot;</span><span class="p">,</span> <span class="s2">&quot;linear&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;copy_forward&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add additdion points to a segment by interpolating along the direct line</span>
<span class="sd">    between each point pair according to the passed spacing parameter. If present,</span>
<span class="sd">    elevation and time will be linearly interpolated. Extensions (Heartrate,</span>
<span class="sd">    Cadence, Power) will be interpolated according to value of copy_extensions.</span>
<span class="sd">    Optionas are:</span>

<span class="sd">    - copy the value from the start point of the interpolation (copy-forward)</span>
<span class="sd">    - Use value of start point for first half and last point for second half</span>
<span class="sd">      (meet-center)</span>
<span class="sd">    - Linear interpolation (linear)</span>


<span class="sd">    :param spacing: Minimum distance between points added by the interpolation</span>
<span class="sd">    :param n_segment: segment in the track to use, defaults to 0</span>
<span class="sd">    :param copy_extension: How should the extenstion (if present) be defined in the</span>
<span class="sd">        interpolated points.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span> <span class="o">=</span> <span class="n">interpolate_segment</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">],</span> <span class="n">spacing</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="n">copy_extensions</span>
    <span class="p">)</span>

    <span class="c1"># Reset saved processed data</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_processed_track_data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_processed_track_data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n_segment</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_processed_segment_data</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Deleting saved processed segment data for segment </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">n_segment</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_processed_segment_data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.PyTrack.plot" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">segment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">reduce_pp_intervals</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Visualize the full track or a single segment.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>kind</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;profile&#39;, &#39;profile-slope&#39;, &#39;map-line&#39;, &#39;map-line-enhanced&#39;, &#39;map-segments&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Kind of plot to be generated  - profile: Elevation profile of the track. May be enhanced with additional information like Velocity, Heartrate, Cadence, and Power. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_2d</code> - profile-slope: Elevation profile with slopes between points. Use the reduce_pp_intervals argument to reduce the number of slope intervals. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_with_slope</code> - map-line: Visualize coordinates on the map. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_line_on_map</code> - map-line-enhanced: Visualize coordinates on the map. Enhance with additional information like Elevation, Velocity, Heartrate, Cadence, and Power. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_enriched_on_map</code> - map-segments: Visualize coordinates on the map split into segments. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_segments_on_map</code></p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>segment</code></td>
          <td>
                <code>None | int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Select a specific segment, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>reduce_pp_intervals</code></td>
          <td>
                <code>None | int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optionally pass a distance in m which is used to reduce the points in a track, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="plotly.graph_objs.graph_objs.Figure">Figure</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Figure (plotly)</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>VisualizationSetupError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the plot prequisites are not met</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">kind</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
        <span class="s2">&quot;profile&quot;</span><span class="p">,</span> <span class="s2">&quot;profile-slope&quot;</span><span class="p">,</span> <span class="s2">&quot;map-line&quot;</span><span class="p">,</span> <span class="s2">&quot;map-line-enhanced&quot;</span><span class="p">,</span> <span class="s2">&quot;map-segments&quot;</span>
    <span class="p">],</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">segment</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">reduce_pp_intervals</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Figure</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Visualize the full track or a single segment.</span>

<span class="sd">    :param kind: Kind of plot to be generated</span>

<span class="sd">        - profile: Elevation profile of the track. May be enhanced with additional</span>
<span class="sd">          information like Velocity, Heartrate, Cadence, and Power. Pass keyword</span>
<span class="sd">          args for :func:`~geo_track_analyzer.visualize.plot_track_2d`</span>
<span class="sd">        - profile-slope: Elevation profile with slopes between points. Use the</span>
<span class="sd">          reduce_pp_intervals argument to reduce the number of slope intervals.</span>
<span class="sd">          Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_track_with_slope`</span>
<span class="sd">        - map-line: Visualize coordinates on the map. Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_track_line_on_map`</span>
<span class="sd">        - map-line-enhanced: Visualize coordinates on the map. Enhance with</span>
<span class="sd">          additional information like Elevation, Velocity, Heartrate, Cadence, and</span>
<span class="sd">          Power. Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_track_enriched_on_map`</span>
<span class="sd">        - map-segments: Visualize coordinates on the map split into segments.</span>
<span class="sd">          Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_segments_on_map`</span>
<span class="sd">    :param segment: Select a specific segment, defaults to None</span>
<span class="sd">    :param reduce_pp_intervals: Optionally pass a distance in m which is used to</span>
<span class="sd">        reduce the points in a track, defaults to None</span>
<span class="sd">    :raises VisualizationSetupError: If the plot prequisites are not met</span>

<span class="sd">    :return: Figure (plotly)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">valid_kinds</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;profile&quot;</span><span class="p">,</span>
        <span class="s2">&quot;profile-slope&quot;</span><span class="p">,</span>
        <span class="s2">&quot;map-line&quot;</span><span class="p">,</span>
        <span class="s2">&quot;map-line-enhanced&quot;</span><span class="p">,</span>
        <span class="s2">&quot;map-segments&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="n">require_elevation</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;profile&quot;</span><span class="p">,</span> <span class="s2">&quot;profile-slope&quot;</span><span class="p">]</span>
    <span class="n">connect_segment_full</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;map-segments&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">kind</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_kinds</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">VisualizationSetupError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Kind </span><span class="si">{</span><span class="n">kind</span><span class="si">}</span><span class="s2"> is not valid. Pass on of </span><span class="si">{</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">valid_kinds</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">segment</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">geo_track_analyzer.utils.track</span> <span class="kn">import</span> <span class="n">extract_track_data_for_plot</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">extract_track_data_for_plot</span><span class="p">(</span>
            <span class="n">track</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span>
            <span class="n">require_elevation</span><span class="o">=</span><span class="n">require_elevation</span><span class="p">,</span>
            <span class="n">intervals</span><span class="o">=</span><span class="n">reduce_pp_intervals</span><span class="p">,</span>
            <span class="n">connect_segments</span><span class="o">=</span><span class="s2">&quot;full&quot;</span> <span class="k">if</span> <span class="n">kind</span> <span class="ow">in</span> <span class="n">connect_segment_full</span> <span class="k">else</span> <span class="s2">&quot;forward&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">geo_track_analyzer.utils.track</span> <span class="kn">import</span> <span class="n">extract_segment_data_for_plot</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">extract_segment_data_for_plot</span><span class="p">(</span>
            <span class="n">track</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">segment</span><span class="o">=</span><span class="n">segment</span><span class="p">,</span>
            <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span>
            <span class="n">require_elevation</span><span class="o">=</span><span class="n">require_elevation</span><span class="p">,</span>
            <span class="n">intervals</span><span class="o">=</span><span class="n">reduce_pp_intervals</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">fig</span><span class="p">:</span> <span class="n">Figure</span>
    <span class="k">if</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;profile&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_2d</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;profile-slope&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_with_slope</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;map-line&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_line_on_map</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;map-line-enhanced&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_enriched_on_map</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_segments_on_map</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fig</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.PyTrack.split" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">split</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="n">distance_threshold</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Split the track at the passed coordinates. The distance_threshold parameter
defines the maximum distance between the passed coordingates and the closest
point in the track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>coords</code></td>
          <td>
                <code>tuple[float, float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Latitude, Longitude point at which the split should be made</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>distance_threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance between coords and closest point, defaults to 20</p>
            </div>
          </td>
          <td>
                <code>20</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>TrackTransformationError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If distance exceeds threshold</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">split</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="n">distance_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">20</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Split the track at the passed coordinates. The distance_threshold parameter</span>
<span class="sd">    defines the maximum distance between the passed coordingates and the closest</span>
<span class="sd">    point in the track.</span>

<span class="sd">    :param coords: Latitude, Longitude point at which the split should be made</span>
<span class="sd">    :param distance_threshold: Maximum distance between coords and closest point,</span>
<span class="sd">        defaults to 20</span>

<span class="sd">    :raises TrackTransformationError: If distance exceeds threshold</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lat</span><span class="p">,</span> <span class="n">long</span> <span class="o">=</span> <span class="n">coords</span>
    <span class="n">point_distance</span> <span class="o">=</span> <span class="n">get_point_distance</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=</span><span class="n">lat</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="n">long</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">point_distance</span><span class="o">.</span><span class="n">distance</span> <span class="o">&gt;</span> <span class="n">distance_threshold</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">TrackTransformationError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Closes point in track has distance </span><span class="si">{</span><span class="n">point_distance</span><span class="o">.</span><span class="n">distance</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">m &quot;</span>
            <span class="s2">&quot;from passed coordingates&quot;</span>
        <span class="p">)</span>
    <span class="c1"># Split the segment. The closest point should be the first</span>
    <span class="c1"># point of the second segment</span>
    <span class="n">pre_segment</span><span class="p">,</span> <span class="n">post_segment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span>
        <span class="n">point_distance</span><span class="o">.</span><span class="n">segment_idx</span>
    <span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">point_distance</span><span class="o">.</span><span class="n">segment_point_idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">point_distance</span><span class="o">.</span><span class="n">segment_idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">pre_segment</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">point_distance</span><span class="o">.</span><span class="n">segment_idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">post_segment</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_processed_segment_data</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_processed_track_data</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h2 id="geo_track_analyzer.track.SegmentTrack" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code class="highlight language-python"><span class="n">SegmentTrack</span><span class="p">(</span><span class="n">segment</span><span class="p">,</span> <span class="n">stopped_speed_threshold</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_speed_percentile</span><span class="o">=</span><span class="mi">95</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><span title="geo_track_analyzer.track.Track">Track</span></code></p>

  
      <p>Track that should be initialized by loading a PGXTrackSegment object</p>
  
      <p>Wrap a GPXTrackSegment into a Track object</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>segment</code></td>
          <td>
                <code><span title="gpxpy.gpx.GPXTrackSegment">GPXTrackSegment</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>GPXTrackSegment</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>stopped_speed_threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minium speed required for a point to be count as moving, defaults to 1</p>
            </div>
          </td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>max_speed_percentile</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Points with speed outside of the percentile are not counted when analyzing the track, defaults to 95</p>
            </div>
          </td>
          <td>
                <code>95</code>
          </td>
        </tr>
    </tbody>
  </table>

                <details class="quote">
                  <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
                  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">segment</span><span class="p">:</span> <span class="n">GPXTrackSegment</span><span class="p">,</span>
    <span class="n">stopped_speed_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">max_speed_percentile</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">95</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Wrap a GPXTrackSegment into a Track object</span>

<span class="sd">    :param segment: GPXTrackSegment</span>
<span class="sd">    :param stopped_speed_threshold: Minium speed required for a point to be count</span>
<span class="sd">        as moving, defaults to 1</span>
<span class="sd">    :param max_speed_percentile: Points with speed outside of the percentile are not</span>
<span class="sd">        counted when analyzing the track, defaults to 95</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
        <span class="n">stopped_speed_threshold</span><span class="o">=</span><span class="n">stopped_speed_threshold</span><span class="p">,</span>
        <span class="n">max_speed_percentile</span><span class="o">=</span><span class="n">max_speed_percentile</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">gpx</span> <span class="o">=</span> <span class="n">GPX</span><span class="p">()</span>

    <span class="n">gpx_track</span> <span class="o">=</span> <span class="n">GPXTrack</span><span class="p">()</span>
    <span class="n">gpx</span><span class="o">.</span><span class="n">tracks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gpx_track</span><span class="p">)</span>

    <span class="n">gpx_track</span><span class="o">.</span><span class="n">segments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">segment</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_track</span> <span class="o">=</span> <span class="n">gpx</span><span class="o">.</span><span class="n">tracks</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
                </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.SegmentTrack.add_segmeent" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">add_segmeent</span><span class="p">(</span><span class="n">segment</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Add a new segment ot the track</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>segment</code></td>
          <td>
                <code><span title="gpxpy.gpx.GPXTrackSegment">GPXTrackSegment</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>GPXTracksegment to be added</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_segmeent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">segment</span><span class="p">:</span> <span class="n">GPXTrackSegment</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add a new segment ot the track</span>

<span class="sd">    :param segment: GPXTracksegment to be added</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">segment</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Added segment with postition: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.SegmentTrack.find_overlap_with_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">find_overlap_with_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="p">,</span> <span class="n">match_track</span><span class="p">,</span> <span class="n">match_track_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">overlap_threshold</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">max_queue_normalize</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">merge_subsegments</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">extensions_interpolation</span><span class="o">=</span><span class="s1">&#39;copy_forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Find overlap of a segment of the track with a segment in another track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Segment in the track that sould be used as base for the comparison</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>match_track</code></td>
          <td>
                <code><span title="geo_track_analyzer.track.Track">Track</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Track object containing the segment to be matched</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>match_track_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Segment on the passed track that should be matched to the segment in this track, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>width</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Width (in meters) of the grid that will be filled to estimate the overalp , defaults to 50</p>
            </div>
          </td>
          <td>
                <code>50</code>
          </td>
        </tr>
        <tr>
          <td><code>overlap_threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum overlap (as fracrtion) required to return the overlap data, defaults to 0.75</p>
            </div>
          </td>
          <td>
                <code>0.75</code>
          </td>
        </tr>
        <tr>
          <td><code>max_queue_normalize</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum number of successive points in the segment between two points falling into same plate bin, defaults to 5</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>merge_subsegments</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of points between sub segments allowed for merging the segments, defaults to 5</p>
            </div>
          </td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>extensions_interpolation</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;copy-forward&#39;, &#39;meet-center&#39;, &#39;linear&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>How should the extenstion (if present) be defined in the interpolated points, defaults to copy-forward</p>
            </div>
          </td>
          <td>
                <code>&#39;copy_forward&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Sequence">Sequence</span>[tuple[<span title="geo_track_analyzer.track.Track">Track</span>, float, bool]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tuple containing a Track with the overlapping points, the overlap in percent, and the direction of the overlap</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">find_overlap_with_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">match_track</span><span class="p">:</span> <span class="n">Track</span><span class="p">,</span>
    <span class="n">match_track_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
    <span class="n">overlap_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.75</span><span class="p">,</span>
    <span class="n">max_queue_normalize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">merge_subsegments</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">extensions_interpolation</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
        <span class="s2">&quot;copy-forward&quot;</span><span class="p">,</span> <span class="s2">&quot;meet-center&quot;</span><span class="p">,</span> <span class="s2">&quot;linear&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;copy_forward&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Track</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find overlap of a segment of the track with a segment in another track.</span>

<span class="sd">    :param n_segment: Segment in the track that sould be used as base for the</span>
<span class="sd">        comparison</span>
<span class="sd">    :param match_track: Track object containing the segment to be matched</span>
<span class="sd">    :param match_track_segment: Segment on the passed track that should be matched</span>
<span class="sd">        to the segment in this track, defaults to 0</span>
<span class="sd">    :param width: Width (in meters) of the grid that will be filled to estimate</span>
<span class="sd">        the overalp , defaults to 50</span>
<span class="sd">    :param overlap_threshold: Minimum overlap (as fracrtion) required to return the</span>
<span class="sd">        overlap data, defaults to 0.75</span>
<span class="sd">    :param max_queue_normalize: Minimum number of successive points in the segment</span>
<span class="sd">        between two points falling into same plate bin, defaults to 5</span>
<span class="sd">    :param merge_subsegments: Number of points between sub segments allowed</span>
<span class="sd">        for merging the segments, defaults to 5</span>
<span class="sd">    :param extensions_interpolation: How should the extenstion (if present) be</span>
<span class="sd">        defined in the interpolated points, defaults to copy-forward</span>

<span class="sd">    :return: Tuple containing a Track with the overlapping points, the overlap in</span>
<span class="sd">        percent, and the direction of the overlap</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">max_distance_self</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_max_pp_distance_in_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>

    <span class="n">segment_self</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">max_distance_self</span> <span class="o">&gt;</span> <span class="n">width</span><span class="p">:</span>
        <span class="n">segment_self</span> <span class="o">=</span> <span class="n">interpolate_segment</span><span class="p">(</span>
            <span class="n">segment_self</span><span class="p">,</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="n">extensions_interpolation</span>
        <span class="p">)</span>

    <span class="n">max_distance_match</span> <span class="o">=</span> <span class="n">match_track</span><span class="o">.</span><span class="n">get_max_pp_distance_in_segment</span><span class="p">(</span>
        <span class="n">match_track_segment</span>
    <span class="p">)</span>
    <span class="n">segment_match</span> <span class="o">=</span> <span class="n">match_track</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">match_track_segment</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">max_distance_match</span> <span class="o">&gt;</span> <span class="n">width</span><span class="p">:</span>
        <span class="n">segment_match</span> <span class="o">=</span> <span class="n">interpolate_segment</span><span class="p">(</span>
            <span class="n">segment_match</span><span class="p">,</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="n">extensions_interpolation</span>
        <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Looking for overlapping segments&quot;</span><span class="p">)</span>
    <span class="n">segment_overlaps</span> <span class="o">=</span> <span class="n">get_segment_overlap</span><span class="p">(</span>
        <span class="n">segment_self</span><span class="p">,</span>
        <span class="n">segment_match</span><span class="p">,</span>
        <span class="n">width</span><span class="p">,</span>
        <span class="n">max_queue_normalize</span><span class="p">,</span>
        <span class="n">merge_subsegments</span><span class="p">,</span>
        <span class="n">overlap_threshold</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">matched_tracks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">Track</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">overlap</span> <span class="ow">in</span> <span class="n">segment_overlaps</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Found: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">overlap</span><span class="p">)</span>
        <span class="n">matched_segment</span> <span class="o">=</span> <span class="n">GPXTrackSegment</span><span class="p">()</span>
        <span class="c1"># TODO: Might need to go up to overlap.end_idx + 1?</span>
        <span class="n">matched_segment</span><span class="o">.</span><span class="n">points</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span><span class="o">.</span><span class="n">points</span><span class="p">[</span>
            <span class="n">overlap</span><span class="o">.</span><span class="n">start_idx</span> <span class="p">:</span> <span class="n">overlap</span><span class="o">.</span><span class="n">end_idx</span>
        <span class="p">]</span>
        <span class="n">matched_tracks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">(</span>
                <span class="n">SegmentTrack</span><span class="p">(</span>
                    <span class="n">matched_segment</span><span class="p">,</span>
                    <span class="n">stopped_speed_threshold</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">stopped_speed_threshold</span><span class="p">,</span>
                    <span class="n">max_speed_percentile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_speed_percentile</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">overlap</span><span class="o">.</span><span class="n">overlap</span><span class="p">,</span>
                <span class="n">overlap</span><span class="o">.</span><span class="n">inverse</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">matched_tracks</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.SegmentTrack.get_avg_pp_distance" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_avg_pp_distance</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get average distance between points in the track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the average, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Average distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_avg_pp_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get average distance between points in the track.</span>

<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        average, defaults to 10</span>

<span class="sd">    :return: Average distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance</span><span class="p">(</span><span class="s2">&quot;average&quot;</span><span class="p">,</span> <span class="n">threshold</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.SegmentTrack.get_avg_pp_distance_in_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_avg_pp_distance_in_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get average distance between points in the segment with index n_segment.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement to process, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the average, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Average distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_avg_pp_distance_in_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get average distance between points in the segment with index n_segment.</span>

<span class="sd">    :param n_segment: Index of the segement to process, defaults to 0</span>
<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        average, defaults to 10</span>

<span class="sd">    :return: Average distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance_in_segment</span><span class="p">(</span>
        <span class="s2">&quot;average&quot;</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">,</span> <span class="n">threshold</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.SegmentTrack.get_closest_point" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_closest_point</span><span class="p">(</span><span class="n">n_segment</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get closest point in a segment to the passed latitude and longitude</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segment</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>latitude</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Latitude to check</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>longitude</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Longitude to check</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="geo_track_analyzer.model.PointDistance" href="../api_model/#geo_track_analyzer.model.PointDistance">PointDistance</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tuple containg the point as GPXTrackPoint, the distance from the passed coordinates and the index in the segment</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_closest_point</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">latitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">longitude</span><span class="p">:</span> <span class="nb">float</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PointDistance</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get closest point in a segment to the passed latitude and longitude</span>

<span class="sd">    :param n_segment: Index of the segment</span>
<span class="sd">    :param latitude: Latitude to check</span>
<span class="sd">    :param longitude: Longitude to check</span>

<span class="sd">    :return: Tuple containg the point as GPXTrackPoint, the distance from</span>
<span class="sd">        the passed coordinates and the index in the segment</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_point_distance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.SegmentTrack.get_max_pp_distance" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_max_pp_distance</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get maximum distance between points in the track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the maximum, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_max_pp_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get maximum distance between points in the track.</span>

<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        maximum, defaults to 10</span>

<span class="sd">    :return: Maximum distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance</span><span class="p">(</span><span class="s2">&quot;max&quot;</span><span class="p">,</span> <span class="n">threshold</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.SegmentTrack.get_max_pp_distance_in_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_max_pp_distance_in_segment</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get maximum distance between points in the segment with index n_segment.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement to process, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points required to  be used for the maximum, defaults to 10</p>
            </div>
          </td>
          <td>
                <code>10</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_max_pp_distance_in_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get maximum distance between points in the segment with index n_segment.</span>

<span class="sd">    :param n_segment: Index of the segement to process, defaults to 0</span>
<span class="sd">    :param threshold: Minimum distance between points required to  be used for the</span>
<span class="sd">        maximum, defaults to 10</span>

<span class="sd">    :return: Maximum distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_aggregated_pp_distance_in_segment</span><span class="p">(</span><span class="s2">&quot;max&quot;</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">,</span> <span class="n">threshold</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.SegmentTrack.get_point_data_in_segmnet" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_point_data_in_segmnet</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get raw coordinates (latitude, longitude), times and elevations for the
segement with the passed index.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>tuple[list[tuple[float, float]], None | list[float], None | list[<span title="datetime.datetime">datetime</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>tuple with coordinates (latitude, longitude), times and elevations</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_point_data_in_segmnet</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]],</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">datetime</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get raw coordinates (latitude, longitude), times and elevations for the</span>
<span class="sd">    segement with the passed index.</span>

<span class="sd">    :param n_segment: Index of the segement, defaults to 0</span>

<span class="sd">    :return: tuple with coordinates (latitude, longitude), times and elevations</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">coords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">elevations</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">times</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span><span class="o">.</span><span class="n">points</span><span class="p">:</span>
        <span class="n">coords</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">point</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span> <span class="n">point</span><span class="o">.</span><span class="n">longitude</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">point</span><span class="o">.</span><span class="n">elevation</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">elevations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">elevation</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">point</span><span class="o">.</span><span class="n">time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">elevations</span><span class="p">:</span>
        <span class="n">elevations</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">elevations</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">TrackTransformationError</span><span class="p">(</span>
            <span class="s2">&quot;Elevation is not set for all points. This is not supported&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">times</span><span class="p">:</span>
        <span class="n">times</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: ignore</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">times</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">TrackTransformationError</span><span class="p">(</span>
            <span class="s2">&quot;Elevation is not set for all points. This is not supported&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">coords</span><span class="p">,</span> <span class="n">elevations</span><span class="p">,</span> <span class="n">times</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.SegmentTrack.get_segment_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_segment_data</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get processed data for the segmeent with passed index as DataFrame</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segement, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame with segmenet data</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_segment_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get processed data for the segmeent with passed index as DataFrame</span>

<span class="sd">    :param n_segment: Index of the segement, defaults to 0</span>

<span class="sd">    :return: DataFrame with segmenet data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_segment_data</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.SegmentTrack.get_segment_overview" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_segment_overview</span><span class="p">(</span><span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get overall metrics for a segment</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Index of the segment the overview should be generated for, default to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="geo_track_analyzer.model.SegmentOverview" href="../api_model/#geo_track_analyzer.model.SegmentOverview">SegmentOverview</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A SegmentOverview object containing the metrics moving time and distance, total time and distance, maximum and average speed and elevation and cummulated uphill, downholl elevation</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_segment_overview</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SegmentOverview</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get overall metrics for a segment</span>

<span class="sd">    :param n_segment: Index of the segment the overview should be generated for,</span>
<span class="sd">        default to 0</span>

<span class="sd">    :returns: A SegmentOverview object containing the metrics moving time and</span>
<span class="sd">        distance, total time and distance, maximum and average speed and elevation</span>
<span class="sd">        and cummulated uphill, downholl elevation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="p">(</span>
        <span class="n">time</span><span class="p">,</span>
        <span class="n">distance</span><span class="p">,</span>
        <span class="n">stopped_time</span><span class="p">,</span>
        <span class="n">stopped_distance</span><span class="p">,</span>
        <span class="n">data</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_segment_data</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>

    <span class="n">max_speed</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">avg_speed</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span><span class="o">.</span><span class="n">has_times</span><span class="p">():</span>
        <span class="n">max_speed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">avg_speed</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_segment_overview</span><span class="p">(</span>
        <span class="n">time</span><span class="o">=</span><span class="n">time</span><span class="p">,</span>
        <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span>
        <span class="n">stopped_time</span><span class="o">=</span><span class="n">stopped_time</span><span class="p">,</span>
        <span class="n">stopped_distance</span><span class="o">=</span><span class="n">stopped_distance</span><span class="p">,</span>
        <span class="n">max_speed</span><span class="o">=</span><span class="n">max_speed</span><span class="p">,</span>
        <span class="n">avg_speed</span><span class="o">=</span><span class="n">avg_speed</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.SegmentTrack.get_track_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_track_data</span><span class="p">(</span><span class="n">connect_segments</span><span class="o">=</span><span class="s1">&#39;forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get processed data for the track as DataFrame. Segment are indicated
via the segment column.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame with track data</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_track_data</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">connect_segments</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;full&quot;</span><span class="p">,</span> <span class="s2">&quot;forward&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;forward&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get processed data for the track as DataFrame. Segment are indicated</span>
<span class="sd">    via the segment column.</span>

<span class="sd">    :return: DataFrame with track data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">track_data</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">track_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_track_data</span><span class="p">(</span>
        <span class="n">connect_segments</span><span class="o">=</span><span class="n">connect_segments</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">track_data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.SegmentTrack.get_track_overview" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_track_overview</span><span class="p">(</span><span class="n">connect_segments</span><span class="o">=</span><span class="s1">&#39;forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get overall metrics for the track. Equivalent to the sum of all segments</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="geo_track_analyzer.model.SegmentOverview" href="../api_model/#geo_track_analyzer.model.SegmentOverview">SegmentOverview</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A SegmentOverview object containing the metrics</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_track_overview</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">connect_segments</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;full&quot;</span><span class="p">,</span> <span class="s2">&quot;forward&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;forward&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SegmentOverview</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get overall metrics for the track. Equivalent to the sum of all segments</span>

<span class="sd">    :return: A SegmentOverview object containing the metrics</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="p">(</span>
        <span class="n">track_time</span><span class="p">,</span>
        <span class="n">track_distance</span><span class="p">,</span>
        <span class="n">track_stopped_time</span><span class="p">,</span>
        <span class="n">track_stopped_distance</span><span class="p">,</span>
        <span class="n">track_data</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_processed_track_data</span><span class="p">(</span><span class="n">connect_segments</span><span class="o">=</span><span class="n">connect_segments</span><span class="p">)</span>

    <span class="n">track_max_speed</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">track_avg_speed</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">seg</span><span class="o">.</span><span class="n">has_times</span><span class="p">()</span> <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">):</span>
        <span class="n">track_max_speed</span> <span class="o">=</span> <span class="n">track_data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">track_data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">track_avg_speed</span> <span class="o">=</span> <span class="n">track_data</span><span class="o">.</span><span class="n">speed</span><span class="p">[</span><span class="n">track_data</span><span class="o">.</span><span class="n">in_speed_percentile</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_segment_overview</span><span class="p">(</span>
        <span class="n">time</span><span class="o">=</span><span class="n">track_time</span><span class="p">,</span>
        <span class="n">distance</span><span class="o">=</span><span class="n">track_distance</span><span class="p">,</span>
        <span class="n">stopped_time</span><span class="o">=</span><span class="n">track_stopped_time</span><span class="p">,</span>
        <span class="n">stopped_distance</span><span class="o">=</span><span class="n">track_stopped_distance</span><span class="p">,</span>
        <span class="n">max_speed</span><span class="o">=</span><span class="n">track_max_speed</span><span class="p">,</span>
        <span class="n">avg_speed</span><span class="o">=</span><span class="n">track_avg_speed</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">track_data</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.SegmentTrack.get_xml" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">get_xml</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get track as .gpx file data</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>None | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional author name to be added to gpx file, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>email</code></td>
          <td>
                <code>None | str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optional auther e-mail address to be added to the gpx file, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Content of a gpx file</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span>
<span class="normal">99</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">email</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get track as .gpx file data</span>

<span class="sd">    :param name: Optional author name to be added to gpx file, defaults to None</span>
<span class="sd">    :param email: Optional auther e-mail address to be added to the gpx file,</span>
<span class="sd">        defaults to None</span>

<span class="sd">    :return: Content of a gpx file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">gpx</span> <span class="o">=</span> <span class="n">GPX</span><span class="p">()</span>

    <span class="n">gpx</span><span class="o">.</span><span class="n">tracks</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="p">]</span>
    <span class="n">gpx</span><span class="o">.</span><span class="n">author_name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="n">gpx</span><span class="o">.</span><span class="n">author_email</span> <span class="o">=</span> <span class="n">email</span>

    <span class="k">return</span> <span class="n">gpx</span><span class="o">.</span><span class="n">to_xml</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.SegmentTrack.interpolate_points_in_segment" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">interpolate_points_in_segment</span><span class="p">(</span><span class="n">spacing</span><span class="p">,</span> <span class="n">n_segment</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="s1">&#39;copy_forward&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Add additdion points to a segment by interpolating along the direct line
between each point pair according to the passed spacing parameter. If present,
elevation and time will be linearly interpolated. Extensions (Heartrate,
Cadence, Power) will be interpolated according to value of copy_extensions.
Optionas are:</p>
<ul>
<li>copy the value from the start point of the interpolation (copy-forward)</li>
<li>Use value of start point for first half and last point for second half
  (meet-center)</li>
<li>Linear interpolation (linear)</li>
</ul>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>spacing</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Minimum distance between points added by the interpolation</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>n_segment</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>segment in the track to use, defaults to 0</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>copy_extension</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>How should the extenstion (if present) be defined in the interpolated points.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">interpolate_points_in_segment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">spacing</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">n_segment</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">copy_extensions</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
        <span class="s2">&quot;copy-forward&quot;</span><span class="p">,</span> <span class="s2">&quot;meet-center&quot;</span><span class="p">,</span> <span class="s2">&quot;linear&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;copy_forward&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add additdion points to a segment by interpolating along the direct line</span>
<span class="sd">    between each point pair according to the passed spacing parameter. If present,</span>
<span class="sd">    elevation and time will be linearly interpolated. Extensions (Heartrate,</span>
<span class="sd">    Cadence, Power) will be interpolated according to value of copy_extensions.</span>
<span class="sd">    Optionas are:</span>

<span class="sd">    - copy the value from the start point of the interpolation (copy-forward)</span>
<span class="sd">    - Use value of start point for first half and last point for second half</span>
<span class="sd">      (meet-center)</span>
<span class="sd">    - Linear interpolation (linear)</span>


<span class="sd">    :param spacing: Minimum distance between points added by the interpolation</span>
<span class="sd">    :param n_segment: segment in the track to use, defaults to 0</span>
<span class="sd">    :param copy_extension: How should the extenstion (if present) be defined in the</span>
<span class="sd">        interpolated points.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">]</span> <span class="o">=</span> <span class="n">interpolate_segment</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">n_segment</span><span class="p">],</span> <span class="n">spacing</span><span class="p">,</span> <span class="n">copy_extensions</span><span class="o">=</span><span class="n">copy_extensions</span>
    <span class="p">)</span>

    <span class="c1"># Reset saved processed data</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_processed_track_data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_processed_track_data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n_segment</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_processed_segment_data</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Deleting saved processed segment data for segment </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">n_segment</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_processed_segment_data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">n_segment</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.SegmentTrack.plot" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">segment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">reduce_pp_intervals</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Visualize the full track or a single segment.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>kind</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;profile&#39;, &#39;profile-slope&#39;, &#39;map-line&#39;, &#39;map-line-enhanced&#39;, &#39;map-segments&#39;]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Kind of plot to be generated  - profile: Elevation profile of the track. May be enhanced with additional information like Velocity, Heartrate, Cadence, and Power. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_2d</code> - profile-slope: Elevation profile with slopes between points. Use the reduce_pp_intervals argument to reduce the number of slope intervals. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_with_slope</code> - map-line: Visualize coordinates on the map. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_line_on_map</code> - map-line-enhanced: Visualize coordinates on the map. Enhance with additional information like Elevation, Velocity, Heartrate, Cadence, and Power. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_track_enriched_on_map</code> - map-segments: Visualize coordinates on the map split into segments. Pass keyword args for :func:<code>~geo_track_analyzer.visualize.plot_segments_on_map</code></p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>segment</code></td>
          <td>
                <code>None | int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Select a specific segment, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>reduce_pp_intervals</code></td>
          <td>
                <code>None | int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Optionally pass a distance in m which is used to reduce the points in a track, defaults to None</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="plotly.graph_objs.graph_objs.Figure">Figure</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Figure (plotly)</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>VisualizationSetupError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the plot prequisites are not met</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">kind</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
        <span class="s2">&quot;profile&quot;</span><span class="p">,</span> <span class="s2">&quot;profile-slope&quot;</span><span class="p">,</span> <span class="s2">&quot;map-line&quot;</span><span class="p">,</span> <span class="s2">&quot;map-line-enhanced&quot;</span><span class="p">,</span> <span class="s2">&quot;map-segments&quot;</span>
    <span class="p">],</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">segment</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">reduce_pp_intervals</span><span class="p">:</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Figure</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Visualize the full track or a single segment.</span>

<span class="sd">    :param kind: Kind of plot to be generated</span>

<span class="sd">        - profile: Elevation profile of the track. May be enhanced with additional</span>
<span class="sd">          information like Velocity, Heartrate, Cadence, and Power. Pass keyword</span>
<span class="sd">          args for :func:`~geo_track_analyzer.visualize.plot_track_2d`</span>
<span class="sd">        - profile-slope: Elevation profile with slopes between points. Use the</span>
<span class="sd">          reduce_pp_intervals argument to reduce the number of slope intervals.</span>
<span class="sd">          Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_track_with_slope`</span>
<span class="sd">        - map-line: Visualize coordinates on the map. Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_track_line_on_map`</span>
<span class="sd">        - map-line-enhanced: Visualize coordinates on the map. Enhance with</span>
<span class="sd">          additional information like Elevation, Velocity, Heartrate, Cadence, and</span>
<span class="sd">          Power. Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_track_enriched_on_map`</span>
<span class="sd">        - map-segments: Visualize coordinates on the map split into segments.</span>
<span class="sd">          Pass keyword args for</span>
<span class="sd">          :func:`~geo_track_analyzer.visualize.plot_segments_on_map`</span>
<span class="sd">    :param segment: Select a specific segment, defaults to None</span>
<span class="sd">    :param reduce_pp_intervals: Optionally pass a distance in m which is used to</span>
<span class="sd">        reduce the points in a track, defaults to None</span>
<span class="sd">    :raises VisualizationSetupError: If the plot prequisites are not met</span>

<span class="sd">    :return: Figure (plotly)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">valid_kinds</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;profile&quot;</span><span class="p">,</span>
        <span class="s2">&quot;profile-slope&quot;</span><span class="p">,</span>
        <span class="s2">&quot;map-line&quot;</span><span class="p">,</span>
        <span class="s2">&quot;map-line-enhanced&quot;</span><span class="p">,</span>
        <span class="s2">&quot;map-segments&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="n">require_elevation</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;profile&quot;</span><span class="p">,</span> <span class="s2">&quot;profile-slope&quot;</span><span class="p">]</span>
    <span class="n">connect_segment_full</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;map-segments&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">kind</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_kinds</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">VisualizationSetupError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Kind </span><span class="si">{</span><span class="n">kind</span><span class="si">}</span><span class="s2"> is not valid. Pass on of </span><span class="si">{</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">valid_kinds</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">segment</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">geo_track_analyzer.utils.track</span> <span class="kn">import</span> <span class="n">extract_track_data_for_plot</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">extract_track_data_for_plot</span><span class="p">(</span>
            <span class="n">track</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span>
            <span class="n">require_elevation</span><span class="o">=</span><span class="n">require_elevation</span><span class="p">,</span>
            <span class="n">intervals</span><span class="o">=</span><span class="n">reduce_pp_intervals</span><span class="p">,</span>
            <span class="n">connect_segments</span><span class="o">=</span><span class="s2">&quot;full&quot;</span> <span class="k">if</span> <span class="n">kind</span> <span class="ow">in</span> <span class="n">connect_segment_full</span> <span class="k">else</span> <span class="s2">&quot;forward&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">geo_track_analyzer.utils.track</span> <span class="kn">import</span> <span class="n">extract_segment_data_for_plot</span>

        <span class="n">data</span> <span class="o">=</span> <span class="n">extract_segment_data_for_plot</span><span class="p">(</span>
            <span class="n">track</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">segment</span><span class="o">=</span><span class="n">segment</span><span class="p">,</span>
            <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span>
            <span class="n">require_elevation</span><span class="o">=</span><span class="n">require_elevation</span><span class="p">,</span>
            <span class="n">intervals</span><span class="o">=</span><span class="n">reduce_pp_intervals</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">fig</span><span class="p">:</span> <span class="n">Figure</span>
    <span class="k">if</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;profile&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_2d</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;profile-slope&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_with_slope</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;map-line&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_line_on_map</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="s2">&quot;map-line-enhanced&quot;</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_track_enriched_on_map</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plot_segments_on_map</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fig</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="geo_track_analyzer.track.SegmentTrack.split" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>          <code class="highlight language-python"><span class="n">split</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="n">distance_threshold</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Split the track at the passed coordinates. The distance_threshold parameter
defines the maximum distance between the passed coordingates and the closest
point in the track.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>coords</code></td>
          <td>
                <code>tuple[float, float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Latitude, Longitude point at which the split should be made</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>distance_threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Maximum distance between coords and closest point, defaults to 20</p>
            </div>
          </td>
          <td>
                <code>20</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>TrackTransformationError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If distance exceeds threshold</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>geo_track_analyzer/track.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">split</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="n">distance_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">20</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Split the track at the passed coordinates. The distance_threshold parameter</span>
<span class="sd">    defines the maximum distance between the passed coordingates and the closest</span>
<span class="sd">    point in the track.</span>

<span class="sd">    :param coords: Latitude, Longitude point at which the split should be made</span>
<span class="sd">    :param distance_threshold: Maximum distance between coords and closest point,</span>
<span class="sd">        defaults to 20</span>

<span class="sd">    :raises TrackTransformationError: If distance exceeds threshold</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lat</span><span class="p">,</span> <span class="n">long</span> <span class="o">=</span> <span class="n">coords</span>
    <span class="n">point_distance</span> <span class="o">=</span> <span class="n">get_point_distance</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=</span><span class="n">lat</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="n">long</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">point_distance</span><span class="o">.</span><span class="n">distance</span> <span class="o">&gt;</span> <span class="n">distance_threshold</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">TrackTransformationError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Closes point in track has distance </span><span class="si">{</span><span class="n">point_distance</span><span class="o">.</span><span class="n">distance</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">m &quot;</span>
            <span class="s2">&quot;from passed coordingates&quot;</span>
        <span class="p">)</span>
    <span class="c1"># Split the segment. The closest point should be the first</span>
    <span class="c1"># point of the second segment</span>
    <span class="n">pre_segment</span><span class="p">,</span> <span class="n">post_segment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span>
        <span class="n">point_distance</span><span class="o">.</span><span class="n">segment_idx</span>
    <span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">point_distance</span><span class="o">.</span><span class="n">segment_point_idx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="p">[</span><span class="n">point_distance</span><span class="o">.</span><span class="n">segment_idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">pre_segment</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="o">.</span><span class="n">segments</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">point_distance</span><span class="o">.</span><span class="n">segment_idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">post_segment</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_processed_segment_data</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_processed_track_data</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../cli/" class="md-footer__link md-footer__link--prev" aria-label="Previous: CLI">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                CLI
              </div>
            </div>
          </a>
        
        
          
          <a href="../api_model/" class="md-footer__link md-footer__link--next" aria-label="Next: Model Reference">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Model Reference
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/kschweiger" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
    </a>
  
    
    
      
    
    
    
      
      
    
    <a href="https://mastodon.social/@kschweiger" target="_blank" rel="noopener me" title="mastodon.social" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/korbinian-schweiger-973225123/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.action.edit", "content.code.copy", "content.tabs.link", "content.tooltips", "navigation.expand", "navigation.footer", "navigation.instant", "navigation.sections"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c18c5fb9.min.js"></script>
      
    
  </body>
</html>